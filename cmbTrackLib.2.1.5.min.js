var cmbTrackLib=function(){"use strict";var e,t,b={apiHost:"",apiTrackHost:"/trace",method:"POST",dataType:"json",secretKey:"",uploadID:"",autoTrack:!1,autoClick:!0,logTrack:!0,pageLoadTrack:!0,pageExitTrack:!0,apiInvoke:!1,apiInvokeCode:"",trackPageView:!0,singlePage:!0,delay:1e3,dependency:"",random:1,propertyBlacklist:[],xhrHeaders:{},debug:!1,libVersion:"2.1.5",pageExitDelayTime:1,loginType:"",systemID:"",autofixReserverInfo:!0,getConfig:function(e){return this[e]},prevPagePerformance:[],performance:!0,performanceDelay:3e3,performanceTimeOut:null,performanceTrackResource:["xmlhttprequest"],curryTitle:"",referrerUrl:"",ignoreCrossError:!1,requestCode:"",encryptionRequestData:!0,urlParamsIgnore:["token","data"],prePageParams:{},prePageUrl:"",createDBPromiseObj:null,batchSend:!1,apiRequestTimeOut:5e3,apiNameIgnore:[],clickUploadCustomData:[],errorIgnore:[],checkServerTimeHost:"/probe/time",errorCodeKey:"",serviceUnitId:"",isUseClickReplaceTouchStart:!1,prePageUrlData:"",defaultErrorCode:"",isRewriteFetch:!0,ingoreClientStart:!1,isUploadPerResource:!1,requestTrackAll:!1,storageID:"",webStay:!1,deployUnitId:""};t="undefined"==typeof window?{navigator:{userAgent:""},document:{location:e={hostname:""},referrer:""},screen:{width:0,height:0},location:e}:window;var r=Array.prototype,n=Function.prototype,a=Object.prototype,s=r.slice,o=a.hasOwnProperty,i=(t.console,t.navigator),c=(t.document,t.opera,t.screen,i.userAgent,t.localStorage,t.sessionStorage,n.bind),l=r.forEach,u={},d={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}};function p(e){return e&&(e.preventDefault=p.preventDefault,e.stopPropagation=p.stopPropagation),e}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}function w(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function y(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach(function(e){var t,r,n;t=a,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}d.bind=function(n,a){var i,o;if(c&&n.bind===c)return c.apply(n,s.call(arguments,1));if(!d.isFunction(n))throw new TypeError;return i=s.call(arguments,2),o=function(){if(!(this instanceof o))return n.apply(a,i.concat(s.call(arguments)));var e={};e.prototype=n.prototype;var t=new e;e.prototype=null;var r=n.apply(t,i.concat(s.call(arguments)));return Object(r)===r?r:t}},d.extend=function(r){return d.each(s.call(arguments,1),function(e){for(var t in e)void 0!==e[t]&&(r[t]=e[t])}),r},d.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},d.each=function(e,t,r){if(null!=e)if(l&&e.forEach===l)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,a=e.length;n<a;n++)if(n in e&&t.call(r,e[n],n,e)===u)return}else for(var i in e)if(o.call(e,i)&&t.call(r,e[i],i,e)===u)return},d.MD5=function(e,t){var r=e;function s(e,t){return e<<t|e>>>32-t}function c(e,t){var r,n,a=2147483648&e,i=2147483648&t,o=(1073741823&e)+(1073741823&t);return(r=1073741824&e)&(n=1073741824&t)?2147483648^o^a^i:r|n?1073741824&o?3221225472^o^a^i:1073741824^o^a^i:o^a^i}function n(e,t,r,n,a,i,o){return c(s(e=c(e,c(c(t&r|~t&n,a),o)),i),t)}function a(e,t,r,n,a,i,o){return c(s(e=c(e,c(c(t&n|r&~n,a),o)),i),t)}function i(e,t,r,n,a,i,o){return c(s(e=c(e,c(c(t^r^n,a),o)),i),t)}function o(e,t,r,n,a,i,o){return c(s(e=c(e,c(c(r^(t|~n),a),o)),i),t)}function l(e){for(var t="",r="",n=0;n<=3;n++)t+=(r="0"+(e>>>8*n&255).toString(16)).substr(r.length-2,2);return t}for(var u,p,d,m,f=Array(),f=function(e){for(var t,r=e.length,n=r+8,a=16*((n-n%64)/64+1),i=Array(a-1),o=0,s=0;s<r;)o=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<o,s++;return o=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<o,i[a-2]=r<<3,i[a-1]=r>>>29,i}(r),h=1732584193,v=4023233417,g=2562383102,w=271733878,y=0;y<f.length;y+=16)v=o(v=o(v=o(v=o(v=i(v=i(v=i(v=i(v=a(v=a(v=a(v=a(v=n(v=n(v=n(v=n(p=v,g=n(d=g,w=n(m=w,h=n(u=h,v,g,w,f[y+0],7,3614090360),v,g,f[y+1],12,3905402710),h,v,f[y+2],17,606105819),w,h,f[y+3],22,3250441966),g=n(g,w=n(w,h=n(h,v,g,w,f[y+4],7,4118548399),v,g,f[y+5],12,1200080426),h,v,f[y+6],17,2821735955),w,h,f[y+7],22,4249261313),g=n(g,w=n(w,h=n(h,v,g,w,f[y+8],7,1770035416),v,g,f[y+9],12,2336552879),h,v,f[y+10],17,4294925233),w,h,f[y+11],22,2304563134),g=n(g,w=n(w,h=n(h,v,g,w,f[y+12],7,1804603682),v,g,f[y+13],12,4254626195),h,v,f[y+14],17,2792965006),w,h,f[y+15],22,1236535329),g=a(g,w=a(w,h=a(h,v,g,w,f[y+1],5,4129170786),v,g,f[y+6],9,3225465664),h,v,f[y+11],14,643717713),w,h,f[y+0],20,3921069994),g=a(g,w=a(w,h=a(h,v,g,w,f[y+5],5,3593408605),v,g,f[y+10],9,38016083),h,v,f[y+15],14,3634488961),w,h,f[y+4],20,3889429448),g=a(g,w=a(w,h=a(h,v,g,w,f[y+9],5,568446438),v,g,f[y+14],9,3275163606),h,v,f[y+3],14,4107603335),w,h,f[y+8],20,1163531501),g=a(g,w=a(w,h=a(h,v,g,w,f[y+13],5,2850285829),v,g,f[y+2],9,4243563512),h,v,f[y+7],14,1735328473),w,h,f[y+12],20,2368359562),g=i(g,w=i(w,h=i(h,v,g,w,f[y+5],4,4294588738),v,g,f[y+8],11,2272392833),h,v,f[y+11],16,1839030562),w,h,f[y+14],23,4259657740),g=i(g,w=i(w,h=i(h,v,g,w,f[y+1],4,2763975236),v,g,f[y+4],11,1272893353),h,v,f[y+7],16,4139469664),w,h,f[y+10],23,3200236656),g=i(g,w=i(w,h=i(h,v,g,w,f[y+13],4,681279174),v,g,f[y+0],11,3936430074),h,v,f[y+3],16,3572445317),w,h,f[y+6],23,76029189),g=i(g,w=i(w,h=i(h,v,g,w,f[y+9],4,3654602809),v,g,f[y+12],11,3873151461),h,v,f[y+15],16,530742520),w,h,f[y+2],23,3299628645),g=o(g,w=o(w,h=o(h,v,g,w,f[y+0],6,4096336452),v,g,f[y+7],10,1126891415),h,v,f[y+14],15,2878612391),w,h,f[y+5],21,4237533241),g=o(g,w=o(w,h=o(h,v,g,w,f[y+12],6,1700485571),v,g,f[y+3],10,2399980690),h,v,f[y+10],15,4293915773),w,h,f[y+1],21,2240044497),g=o(g,w=o(w,h=o(h,v,g,w,f[y+8],6,1873313359),v,g,f[y+15],10,4264355552),h,v,f[y+6],15,2734768916),w,h,f[y+13],21,1309151649),g=o(g,w=o(w,h=o(h,v,g,w,f[y+4],6,4149444226),v,g,f[y+11],10,3174756917),h,v,f[y+2],15,718787259),w,h,f[y+9],21,3951481745),h=c(h,u),v=c(v,p),g=c(g,d),w=c(w,m);return 32==t?l(h)+l(v)+l(g)+l(w):l(v)+l(g)},d.setSessionId=function(){var e=+new Date;return d.MD5("JS"+e.toString()+Math.random(0,1e7),32)},d.register_event=(p.preventDefault=function(){this.returnValue=!1},p.stopPropagation=function(){this.cancelBubble=!0},function(e,t,r,n,a){var i,o,s,c,l;e?e.addEventListener&&!n?e.addEventListener(t,r,!!a):(o=e[i="on"+t],e[i]=(s=e,c=r,l=o,function(e){if(e=e||p(window.event)){var t,r,n=!0;return d.isFunction(l)&&(t=l(e)),r=c.call(s,e),!1!==t&&!1!==r||(n=!1),n}})):console.warn("见微：没有找到可用的Dom元素可注册事件捕捉")}),d.remove_event=function(e,t,r){e.removeEventListener?e.removeEventListener("type",r):e.detachEvent&&e.detachEvent("on".concat(t),r)},d.processStackMsg=function(t){try{var e=t.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),r=t.toString();return e.indexOf(r)<0&&(e=r+"@"+e),e}catch(e){return t}},d.processError=function(t){try{var e=t.errorInfo;if(e.stack){var r=e.stack.match("https?://[^\n]+"),n=(n=(r=r?r[0]:"").match(":(\\d+):(\\d+)"))||[0,0,0],a=d.processStackMsg(e);return t.errorInfo={msg:a,rowNum:n[1],colNum:n[2],target:r.replace(n[0],""),_orgMsg:e.toString()},t}return e.name&&e.message&&e.description&&(t.errorInfo={msg:JSON.stringify(e)}),t}catch(e){return t}},d.formatComponentName=function(e){if(e.$root===e)return"root";var t=e._isVue?e.$options&&e.$options.name||e.$options&&e.$options._componentTag:e.name;return(t?"component <"+t+">":"anonymous component")+(e._isVue&&e.$options&&e.$options.__file?" at "+(e.$options&&e.$options.__file):"")},d.getParenthesesStr=function(e){var t="";if(""==e)return t;var r,n=/^\d{1,}$/,a=e.match(/\((.+?)\)/g);a&&0<a.length&&((r=a[0])&&(t=r.substring(1,r.length-1)));var i=t.split(":"),o=i.pop(),s=i.pop();return{url:t,col:new RegExp(n).test(o)?o:0,line:new RegExp(n).test(s)?s:0}};var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function D(){}function A(e,t,r){var n=0<arguments.length&&void 0!==e?e:0,a=1<arguments.length&&void 0!==t?t:null,i=2<arguments.length&&void 0!==r?r:["xmlhttprequest","fetch"];try{if(a){var o=a.perElapsedTimeThreshold,s=void 0===o?5e3:o,c=a.samplingPercentage,l=void 0===c?5:c,u=[],p=window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("resource")||[];if(n<s)if(!(Math.random()<=l/100?1:0))return u;var d=b.getConfig("apiTrackHost"),m=b.getConfig("apiHost");return u=p.filter(function(e){return!i.includes(e.initiatorType)&&!d.includes(e.name)&&!m.includes(e.name)}).map(function(e){return{responseEnd:e.responseEnd,requestStart:e.requestStart,duration:e.duration,name:e.name,initiatorType:e.initiatorType,transferSize:e.transferSize}})}}catch(e){console.warn("见微：".concat(e))}}function I(e){var t=0<arguments.length&&void 0!==e?e:"";try{var r=(window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("resource")||[]).filter(function(e){return e.name===t});return r[r.length-1]||{}}catch(e){return console.warn("见微：getApiTimerByResource, ".concat(e)),{}}}function E(e){if((0<arguments.length&&void 0!==e?e:{})["X-B3-BusinessId"])return 1;console.warn("见微：请注意！你开启了全链路，但是没有配置业务码（X-B3-BusinessId），这样会导致北斗不合规，此条全链路不会上报，请配置后重试！")}D.prototype.paramType=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},D.prototype.objHasKay=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.prototype.ArrayToObj=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]="";return t},D.prototype.keyValueToObje=function(e,t){var r={};return r[e]=t,r},D.prototype.toDeep=function(e){var t=null;if("Array"===this.paramType(e)){t=[];for(var r=0;r<e.length;r++)t.push(this.toDeep(e[r]))}else if("Object"===this.paramType(e))for(var n in t={},e)t[n]=this.toDeep(e[n]);else t=e;return t},D.prototype.toDeepObj=function(e,t){var r={};if("String"===this.paramType(e))return r=this.keyValueToObje(e,t);if("Array"===this.paramType(e))return r=this.ArrayToObj(e);if("Object"===this.paramType(e))for(var n in e)r[n]=this.toDeepObj(e[n]);return r},D.prototype.toObj=function(e,t){var r={};return"String"===this.paramType(e)?r=this.keyValueToObje(e,t):"Array"===this.paramType(e)?r=this.ArrayToObj(e):"Object"===this.paramType(e)?e:r},D.prototype.objMergeMutle=function(t){var r=this;return Array.prototype.slice.call(arguments,1).forEach(function(e){t=r.objMerge(t,e)}),t},D.prototype.objMerge=function(e,t){if("Object"!==this.paramType(e)||"Object"!==this.paramType(t))return e;var r={};for(var n in e)r[n]=e[n];for(var a in t){var i=t[a],o=r[a],s=this.paramType(i),c=this.paramType(o);r[a]=o&&"Object"===c&&"Object"===s?this.objMerge(o,i):"Array"===c&&"Array"===s?this.arrayMergeUnique(o,i):"Function"===s&&"Function"===c?this.compose(o,i):i}return r},D.prototype.compose=function(){var r=arguments,n=r.length-1;return function(){for(var e=n,t=r[n].apply(this,arguments);e--;)t=r[e].call(this,t);return t}},D.prototype.fnMerge=function(e,t){return this.objMerge(e,t)},D.prototype.arrayUnique=function(e){for(var t=[],r={},n=0;n<e.length;n++)r[e[n]]||(r[e[n]]=!0,t.push(e[n]));return t},D.prototype.arrayMerge=function(e,t){for(var r=[],n=0;n<e.length;n++){var a=e[n];"Object"===this.paramType(e[n])&&(a=this.objMerge({},e[n])),r.push(a)}for(var i=0;i<t.length;i++){var o=e[i];"Object"===this.paramType(t[i])&&(o=this.objMerge({},t[i])),r.push(o)}return r},D.prototype.arrayMergeUnique=function(e,t){return e.push.apply(e,t),this.arrayUnique(e)},D.prototype.encode=function(e){var t,r,n,a,i,o,s,c="",l=0;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):(127<n&&n<2048?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t}(e);l<e.length;)a=(t=e.charCodeAt(l++))>>2,i=(3&t)<<4|(r=e.charCodeAt(l++))>>4,o=(15&r)<<2|(n=e.charCodeAt(l++))>>6,s=63&n,isNaN(r)?o=s=64:isNaN(n)&&(s=64),c=c+N.charAt(a)+N.charAt(i)+N.charAt(o)+N.charAt(s);return c},D.prototype.decode=function(e){var t,r,n,a,i,o,s="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)t=N.indexOf(e.charAt(c++))<<2|(a=N.indexOf(e.charAt(c++)))>>4,r=(15&a)<<4|(i=N.indexOf(e.charAt(c++)))>>2,n=(3&i)<<6|(o=N.indexOf(e.charAt(c++))),s+=String.fromCharCode(t),64!==i&&(s+=String.fromCharCode(r)),64!==o&&(s+=String.fromCharCode(n));return s=function(e){for(var t="",r=0,n=0,a=0,i=0;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):191<n&&n<224?(a=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),i=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&i),r+=3);return t}(s)},D.prototype.isEmptyObject=function(e){for(var t in e)return!1;return!0},D.prototype.format=function(e,t){var r=e.getTimezoneOffset(),n={"M+":(e=new Date(e.getTime()+60*r*1e3+288e5)).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,3===RegExp.$1.length?(""+n[a]).length<3?("00"+n[a]).substr(("00"+n[a]).length-3,("00"+n[a]).length):n[a]:("00"+n[a]).substr((""+n[a]).length)));return t},D.prototype.MD5=function(e,t){function c(e,t){return e<<t|e>>>32-t}function l(e,t){var r=2147483648&e,n=2147483648&t,a=1073741824&e,i=1073741824&t,o=(1073741823&e)+(1073741823&t);return a&i?2147483648^o^r^n:a|i?1073741824&o?3221225472^o^r^n:1073741824^o^r^n:o^r^n}function r(e,t,r,n,a,i,o){var s;return e=l(e,l(l((s=t)&r|~s&n,a),o)),l(c(e,i),t)}function n(e,t,r,n,a,i,o){var s;return e=l(e,l(l(t&(s=n)|r&~s,a),o)),l(c(e,i),t)}function a(e,t,r,n,a,i,o){return e=l(e,l(l(t^r^n,a),o)),l(c(e,i),t)}function i(e,t,r,n,a,i,o){return e=l(e,l(l(r^(t|~n),a),o)),l(c(e,i),t)}function o(e){for(var t="",r="",n=0;n<=3;n++)t+=(r="0"+(e>>>8*n&255).toString(16)).substr(r.length-2,2);return t}for(var s,u,p,d,m=function(e){for(var t,r=e.length,n=r+8,a=16*(1+(n-n%64)/64),i=Array(a-1),o=0,s=0;s<r;)o=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<o,s++;return o=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<o,i[a-2]=r<<3,i[a-1]=r>>>29,i}(e),f=1732584193,h=4023233417,v=2562383102,g=271733878,w=0;w<m.length;w+=16)f=r(s=f,u=h,p=v,d=g,m[w+0],7,3614090360),g=r(g,f,h,v,m[w+1],12,3905402710),v=r(v,g,f,h,m[w+2],17,606105819),h=r(h,v,g,f,m[w+3],22,3250441966),f=r(f,h,v,g,m[w+4],7,4118548399),g=r(g,f,h,v,m[w+5],12,1200080426),v=r(v,g,f,h,m[w+6],17,2821735955),h=r(h,v,g,f,m[w+7],22,4249261313),f=r(f,h,v,g,m[w+8],7,1770035416),g=r(g,f,h,v,m[w+9],12,2336552879),v=r(v,g,f,h,m[w+10],17,4294925233),h=r(h,v,g,f,m[w+11],22,2304563134),f=r(f,h,v,g,m[w+12],7,1804603682),g=r(g,f,h,v,m[w+13],12,4254626195),v=r(v,g,f,h,m[w+14],17,2792965006),f=n(f,h=r(h,v,g,f,m[w+15],22,1236535329),v,g,m[w+1],5,4129170786),g=n(g,f,h,v,m[w+6],9,3225465664),v=n(v,g,f,h,m[w+11],14,643717713),h=n(h,v,g,f,m[w+0],20,3921069994),f=n(f,h,v,g,m[w+5],5,3593408605),g=n(g,f,h,v,m[w+10],9,38016083),v=n(v,g,f,h,m[w+15],14,3634488961),h=n(h,v,g,f,m[w+4],20,3889429448),f=n(f,h,v,g,m[w+9],5,568446438),g=n(g,f,h,v,m[w+14],9,3275163606),v=n(v,g,f,h,m[w+3],14,4107603335),h=n(h,v,g,f,m[w+8],20,1163531501),f=n(f,h,v,g,m[w+13],5,2850285829),g=n(g,f,h,v,m[w+2],9,4243563512),v=n(v,g,f,h,m[w+7],14,1735328473),f=a(f,h=n(h,v,g,f,m[w+12],20,2368359562),v,g,m[w+5],4,4294588738),g=a(g,f,h,v,m[w+8],11,2272392833),v=a(v,g,f,h,m[w+11],16,1839030562),h=a(h,v,g,f,m[w+14],23,4259657740),f=a(f,h,v,g,m[w+1],4,2763975236),g=a(g,f,h,v,m[w+4],11,1272893353),v=a(v,g,f,h,m[w+7],16,4139469664),h=a(h,v,g,f,m[w+10],23,3200236656),f=a(f,h,v,g,m[w+13],4,681279174),g=a(g,f,h,v,m[w+0],11,3936430074),v=a(v,g,f,h,m[w+3],16,3572445317),h=a(h,v,g,f,m[w+6],23,76029189),f=a(f,h,v,g,m[w+9],4,3654602809),g=a(g,f,h,v,m[w+12],11,3873151461),v=a(v,g,f,h,m[w+15],16,530742520),f=i(f,h=a(h,v,g,f,m[w+2],23,3299628645),v,g,m[w+0],6,4096336452),g=i(g,f,h,v,m[w+7],10,1126891415),v=i(v,g,f,h,m[w+14],15,2878612391),h=i(h,v,g,f,m[w+5],21,4237533241),f=i(f,h,v,g,m[w+12],6,1700485571),g=i(g,f,h,v,m[w+3],10,2399980690),v=i(v,g,f,h,m[w+10],15,4293915773),h=i(h,v,g,f,m[w+1],21,2240044497),f=i(f,h,v,g,m[w+8],6,1873313359),g=i(g,f,h,v,m[w+15],10,4264355552),v=i(v,g,f,h,m[w+6],15,2734768916),h=i(h,v,g,f,m[w+13],21,1309151649),f=i(f,h,v,g,m[w+4],6,4149444226),g=i(g,f,h,v,m[w+11],10,3174756917),v=i(v,g,f,h,m[w+2],15,718787259),h=i(h,v,g,f,m[w+9],21,3951481745),f=l(f,s),h=l(h,u),v=l(v,p),g=l(g,d);return 32===t?o(f)+o(h)+o(v)+o(g):o(h)+o(v)},D.prototype.clientTimeZone=function(){var e=(new Date).getTimezoneOffset(),t=parseInt(e/60),r=e%60,n="-";return(t<=0||r<0)&&(n="+",t=-t,r<0&&(r=-r)),1===(t+="").length&&(t="0"+t),1===(r+="").length&&(r="0"+r),n+t+":"+r},D.prototype.delEmpty=function(e){var t={};for(var r in e){var n=!0,a=this.paramType(e[r]);"Object"!==a?(e[r]||"Number"===a&&!isNaN(e[r])||"Boolean"===a||(n=!1),!0===n&&(t[r]=e[r])):t[r]=this.delEmpty(e[r])}for(var i in t){var o=[];for(var s in t[i])o.push(t[i][s]);0===o.length&&t[i].constructor===Object&&delete t[i]}return t},D.prototype.addEvent=function(e,t,r,n){if(document.addEventListener)if("Array"!==this.paramType(e)&&"HTMLCollection"!==this.paramType(e)||!e.length||e===window)e.addEventListener(t,r,n);else for(var a=0;a<e.length;a++)this.addEvent(e[a],t,r,n);else try{if(e.length&&e!==window)for(var i=0;i<e.length;i++)this.addEvent(e[i],t,r);else e.attachEvent("on"+t,function(){return r.call(e,window.event)})}catch(e){}},D.prototype.removeEvent=function(e,t,r,n){if(document.removeEventListener)if(e.length)for(var a=0;a<e.length;a++)this.removeEvent(e[a],t,r,n);else e.removeEventListener(t,r,n);else if(e.length)for(var i=0;i<e.length;i++)this.removeEvent(e[i],t,r);else e.detachEvent("on"+t,function(){return r.call(e,window.event)})},D.prototype.addEleLable=function(e,t,r,n){var a=document,i=a.createElement(e),o=n||a.body||a.getElementsByTagName("body")[0];return r&&(i.id=r),t&&(i.className=t),o.appendChild(i),i},D.prototype.addScript=function(e,t,r){var n=document,a=n.createElement("script"),i=n.getElementsByTagName("script");a.type="text/javascript",a.async=!0,a.id=e;var o="";if(t){if("Array"===this.paramType(t))return void(0,t[0])([t[1]],r);o="/"===t.charAt(t.length-1)?t:t+"/"}else if(n.getElementById("ARK_SDK"))o=n.getElementById("ARK_SDK").src;else for(var s=0;s<i.length;s++)if(i[s].src&&-1<i[s].src.indexOf("AnalysysAgent_JS_SDK")){o=i[s].src;break}var c=o.substring(0,o.lastIndexOf("/")+1);a.src=c+e+".min.js?v="+this.format(new Date,"yyyyMMddhhmm"),a.onload=setTimeout(r,500),i[0].parentNode.insertBefore(a,i[0])},D.prototype.GetUrlParam=function(e){var t=document.location.toString(),r=window.name;"String"===this.paramType(r)&&-1<r.indexOf(e)&&(t=r);var n,a=t.split("?");if(1<a.length){for(var i,o=[],s=1;s<a.length;s++)o.push.apply(o,a[s].split("&"));for(var c=0;c<o.length;c++)if(null!=(i=o[c].split("="))&&i[0]===e){var l=i[1];if(-1<i[1].indexOf("#")&&(l=l.split("#")[0]),-1<l.indexOf("%")){try{var u=decodeURI(l);if(n=u,new RegExp("[\\u4E00-\\u9FFF]+","g").test(n))return u}catch(e){}if("Object"===this.paramType(window.AnalysysModule)&&"Function"===this.paramType(window.AnalysysModule.decodeGBK))try{return window.AnalysysModule.decodeGBK(l,"gbk")}catch(e){}}return l}return""}return""},D.prototype.stringSlice=function(e,t){return e.slice(0,t)},D.prototype.trim=function(e){return"String"===this.paramType(e)?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},D.prototype.changeHash=function(e){var t=window.history.pushState,r=window.history.replaceState;window.history.pushState=function(){t.apply(window.history,arguments),e.apply(e)},window.history.replaceState=function(){r.apply(window.history,arguments),e.apply(e)};var n;"on"+(n=window.ActiveXObject||"ActiveXObject"in window?"hashchange":"popstate")in window&&this.addEvent(window,n,function(){setTimeout(e,0)})},D.prototype.deviceType=function(){var e=navigator.userAgent;return-1<e.indexOf("Tablet")&&e.indexOf("PC")<0||-1<e.indexOf("Pad")||-1<e.indexOf("Nexus 7")?"tablet":-1<e.indexOf("Mobi")||-1<e.indexOf("iPh")||-1<e.indexOf("480")?"phone":"desktop"},D.prototype.checkTypeList=function(e,t){var r=this.paramType(e);if("String"===r){var n=window.location.href,a=window.location.protocol+"//"+window.location.host,i=a+window.location.pathname;if(-1<[n,a,i+"index.html",i,i+window.location.hash].indexOf(e))return!0}else{if("Function"===r)return e.call(e,t);if("Array"===r)for(var o=0;o<e.length;o++)if(!0===this.checkTypeList(e[o],t))return!0}return!1},D.prototype.selectorAllEleList=function(e){var t=[],r=e.split(".")[0];if("Function"===this.paramType(document.querySelectorAll)&&e.indexOf("|")<0)try{return document.querySelectorAll(e)}catch(e){}var n="";if(-1<e.indexOf("#")){n=e.split(".")[0].split("#")[1];var a=document.getElementById(n);a&&t.push(a)}else{if(e.indexOf(".")<0)return document.getElementsByTagName(r);if(-1<e.indexOf("[")&&-1<e.indexOf("]"))for(var i=document.getElementsByTagName("*"),o=e.replace("[","").replace("]",""),s=0;s<i.length;s++){var c=i[s].getAttribute(o);"String"===this.paramType(c)&&t.push(a)}else for(var l=document.getElementsByTagName(r),u=0;u<l.length;u++){var p=l[u],d="String"===this.paramType(p.className)?p.className.split(" "):[];0<d.length&&-1<(r+"."+d.join(".")).indexOf(e)&&t.push(p)}}return t},D.prototype.getDomainFromUrl=function(e,t){var r=(t=t||window.location.hostname).split("/");2<r.length&&(t=r[2]);if(!0===/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/.test(t)||"localhost"===t)return"";var n=t.split("."),a=!0===e?2:n.length;("Number"!==this.paramType(a)||a<2)&&(a=2);var i=[];if(!(1<n.length))return"";n.length<a&&(a=n.length);for(var o=n.length-1;0<=o&&i.length!==a;o--)i.push(n[o]);return i.reverse().join(".")},D.prototype.isiOS=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),D.prototype.delNotHybrid=function(e){return delete e.$is_first_day,delete e.$session_id,delete e.$is_time_calibrated,delete e.$startup_time,e},D.prototype.getUrlPath=function(){var e=window.location.hash;return-1<e.indexOf("?")&&(e=e.split("?")[0]),window.location.host+window.location.pathname+e},D.prototype.detectZoom=function(){for(var e=this.selectorAllEleList("meta"),t=1,r=0;r<e.length;r++){var n=e[r].getAttribute("content");if(n&&-1<n.indexOf("initial-scale="))for(var a=n.split(","),i=0;i<a.length;i++)-1<a[i].indexOf("initial-scale")&&(t=parseFloat(a[i].split("=")[1]))}return t},D.prototype.fillTrackRequestAllBody=function(){var e=Object.create(null),t=new Date,r=new String((new Date).getTime())+new String(1e4*Math.random());return e.common={time:this.format(t,"yyyy-MM-dd hh:mm:ss.SSS"),timeZone:0-t.getTimezoneOffset()/60,version:b.libVersion,serviceUnitId:b.serviceUnitId,deployUnitId:b.deployUnitId},e.traceInfo={traceId:this.MD5(new String(r),32),spanId:this.MD5(new String(r),8),parentSpanId:"0"},e},D.prototype.filterJsonFromString=function(e){for(var t,r={},n=(e||"").split(","),a=0;a<n.length;a++){n[a]&&2<=n[a].split("=").length&&(r[(t=n[a].split("="))[0]]=t[1])}return r},D.prototype.getXhrRespon=function(e){var t=e.responseType&&"text"!==e.responseType?"document"===e.responseType?e.responseXML:e.response:e.responseText||e._responseText;return t},D.prototype.getCodefromRespon=function(e,t){var r={};return"Object"==this.paramType(t)?r=t:"String"==this.paramType(t)&&(r=JSON.parse(t)),e&&r[e]||r.code||r.type},D.prototype.isJsonString=function(e){try{if("Object"==this.paramType(JSON.parse(e)))return!0}catch(e){}return!1},D.prototype.processStackMsg=function(t){try{var e=t.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),r=t.toString();return e.indexOf(r)<0&&(e=r+"@"+e),e}catch(e){return t}};var k=new D,L={ele:document.body,click_x:0,click_y:0,clickEle:""};function x(e){for(var t=[],r=e||L.ele;null!=r;){var n,a=r.tagName;a?(a=a.toLowerCase(),n=(n=r.getAttribute("moduleName"))?"#".concat(n):"",t.push(a+n),r=r.parentNode):r=r.parentNode}return t.reverse().join("/")}function _(){return function(e){for(var t=[],r=e;null!=r;){var n=0;if(r.parentNode){var a=r.parentNode.children;if(a)for(var i=0;i<a.length;i++)a[i]===r&&(n=i)}var o=r.tagName;if(o){o=o.toLowerCase();var s=r.id?"#"+r.id:"",c=r.className&&"String"===k.paramType(r.className)?r.className.split(" "):[];if(0<c.length){for(var l="",u=0;u<c.length;u++)c[u]&&c[u].indexOf("ARK")<0&&(l+="."+c[u]);t.push(o+s+l+"|"+n)}else t.push(o+s+"|"+n);r=r.parentNode}else r=r.parentNode}return t.join("<")}(L.ele)}function B(){return L.ele.tagName.toLowerCase()}function P(){for(var e=L.ele;null!=L.ele;)if(1===L.ele.nodeType){if("Function"===k.paramType(L.ele.onclick)||1===U()){e=L.ele;break}L.ele=L.ele.parentNode}else L.ele=L.ele.parentNode;L.ele=e}function U(){var e=B();if(-1<["a","button","input","select","textarea","svg"].indexOf(e)){if("svg"===e&&L.ele.children&&0<L.ele.children.length){for(var t=0,r=L.ele.children,n=0;n<r.length;n++)"use"===r[n].tagName.toLowerCase()&&r[n].getAttribute("xlink:href")&&(t=1);return t}return 1}return 0}function M(){return function(e){var t="";if(-1<j().indexOf("notrack"))return"".concat(e.tagName.toLowerCase(),"#").concat(e.id,".").concat(e.className);{var r;"input"!==e.tagName.toLowerCase()||"button"!==e.type&&"submit"!==e.type?"img"===e.tagName.toLowerCase()?(r=e.getAttribute("alt")||e.getAttribute("title")||e.getAttribute("src"),t=300<r.length?r.slice(0,299):r):"a"===e.tagName.toLowerCase()?t=e.getAttribute("title")||"":"button"===e.tagName.toLowerCase()&&(t=k.trim(e.textContent)):t=e.value||""}if(!t)for(var n=e.childNodes,a=0;a<n.length;a++)3===n[a].nodeType&&(t+=n[a].nodeValue);t=t&&"String"===k.paramType(t)?t.replace(/[\r\n]/g," ").replace(/[ ]+/g," "):"";return k.trim(t)}(L.ele)}function j(){var e=L.ele.getAttribute("class")||"";if(e){for(var t=e.split(" "),r=[],n=0;n<t.length;n++)""!==t[n]&&r.push(t[n]);return e="."+r.join(".")}return""}var R="",F="";try{R="object"===m(window.localStorage)?window.localStorage:"",F="object"===m(window.sessionStorage)?window.sessionStorage:""}catch(e){console.warn("见微：Module: storage/index",e)}var H=new(function(){function e(){f(this,e),this.localName="CMBTRACK_STROAGE",this.sessionName="CMBTRACK_SESSION",this.cookieName="CMBTRACK_STROAGE."+k.getDomainFromUrl(),this.localObj=this.getLocal(),this.sessionObj=this.getSession()}return g(e,[{key:"setLocal",value:function(e,t){this.localObj=this.getLocal(),e===this.localName?this.localObj=t:this.localObj[e]=t;try{R?(R.setItem(this.localName,k.encode(JSON.stringify(this.localObj))),F.setItem(this.localName,k.encode(JSON.stringify(this.localObj)))):this.setCookie(this.cookieName,encodeURIComponent(k.encode(JSON.stringify(this.localObj))))}catch(e){console.warn("见微：函数名称为setLocal，错误信息为:",e)}}},{key:"getLocal",value:function(t){try{var e=k.encode("{}");return R?((e=R.getItem(this.localName))||(F.getItem(this.localName)?(e=F.getItem(this.localName),R.setItem(this.localName,e)):e=k.encode("{}")),this.removeCookie(this.cookieName,!0),this.removeCookie(this.cookieName,!1)):e=(e=this.getCookie(this.cookieName))&&decodeURIComponent(e),this.localObj=JSON.parse(k.decode(e)),t?this.localObj[t]:this.localObj}catch(e){return console.warn("见微：函数名称为getLocal，错误信息为:",e),t?"":{}}}},{key:"removeLocal",value:function(e){if(this.localObj=this.getLocal(),k.objHasKay(this.localObj,e)&&delete this.localObj[e],k.isEmptyObject(this.localObj))try{R&&(R.removeItem(this.localName),F.removeItem(this.localName)),this.removeCookie(this.cookieName)}catch(e){console.warn("见微：函数名称为removeLocal，错误信息：",e)}else R&&(R.setItem(this.localName,k.encode(JSON.stringify(this.localObj))),F.setItem(this.localName,k.encode(JSON.stringify(this.localObj))))}},{key:"setSession",value:function(e,t){this.sessionObj=this.getSession(),this.sessionObj[e]=t;try{F?(F.setItem(this.sessionName,k.encode(JSON.stringify(this.sessionObj))),this.removeCookie(this.sessionName)):this.setCookie(this.sessionName,k.encode(JSON.stringify(this.sessionObj)),"session")}catch(e){console.warn("见微：函数名称为setSession，错误信息：",e)}}},{key:"getSession",value:function(e){try{var t={};return F?(t=F.getItem(this.sessionName)||k.encode("{}"),this.removeCookie(this.sessionName)):t=this.getCookie(this.sessionName)||k.encode("{}"),this.sessionObj=JSON.parse(k.decode(t)),e?this.sessionObj[e]:this.sessionObj}catch(e){console.warn("见微：函数名称为getSession，错误信息：",e)}}},{key:"removeSession",value:function(e){if(this.sessionObj=this.getSession(),k.objHasKay(this.sessionObj,e)&&delete this.sessionObj[e],k.isEmptyObject(this.sessionObj))try{F&&F.removeItem(this.sessionName),this.removeCookie(this.sessionName)}catch(e){console.warn("见微：函数名称为removeSession，错误信息：",e)}else F&&F.setItem(this.sessionName,k.encode(JSON.stringify(this.sessionObj)))}},{key:"setCookie",value:function(e,t,r){var n,a="."+k.getDomainFromUrl(),i="."==a?"":"; domain="+a,o="";"session"!==r&&((n=new Date).setTime(n.getTime()+31536e6),o="; expires="+n.toGMTString()),document.cookie=e+"="+t+o+"; path=/"+i}},{key:"getCookie",value:function(e){e=e||this.localName;var t=document.cookie;if("string"!=typeof t)return"";for(var r,n=e+"=",a=t.split(/[;&]/),i=0;i<a.length;i++){for(r=a[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return r.substring(n.length,r.length)||""}}},{key:"removeCookie",value:function(e,t,r){t="Boolean"===k.paramType(t)?t:void 0;var n,a,i="."+k.getDomainFromUrl(t),o="."==i?"":"; domain="+i;"session"!==r&&((n=new Date).setTime(n.getTime()-94608e6),a="; expires="+n.toGMTString()),document.cookie=e+"="+a+"; path=/"+o}}]),e}());function q(){}q.prototype.initConfig=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;this.dbName=e,this.storeName=t,this.version=r,this.webActiveState="visible"==document.visibilityState,this.delDoneCountNormal=0,this.delDoneCountTrace=0,this.batchDataNumber=10,this.batchTimeInterval=5e3,"Object"==k.paramType(b.batchSend)&&(this.batchDataNumber=b.batchSend.batchDataNumber&&b.batchSend.batchDataNumber<=30?b.batchSend.batchDataNumber:10,this.batchTimeInterval=b.batchSend.batchTimeInterval||1e4),this.leftAllDataCount=0,this.switchWebActiveHandler()},q.prototype.switchWebActiveHandler=function(){var e=this;window.onfocus=function(){e.webActiveState=!0,e.removeCookie(),H.getLocal("isExistNormalTimer")&&H.getLocal("isExistTraceTimer")||(e.clearCurInterval(),e.batchIntervalTimer(),console.warn("见微：开启定时器"))},window.onblur=function(){e.webActiveState=!1}},q.prototype.batchIntervalTimer=function(){var r=this;H.setLocal("isExistNormalTimer",!0),this.intervalNormal=setInterval(function(){(r.webActiveState=!H.getCookie("LEFTALLDTO"))&&r.cursorGetDataByKey(r.db,r.storeName[0]).then(function(e){var t;0===e.length&&(clearInterval(r.intervalNormal),H.removeLocal("isExistNormalTimer")),0==r.delDoneCountNormal&&(t=e.slice(0,r.batchDataNumber),r.delDoneCountNormal=t.length,0<t.length&&ie(t))})},this.batchTimeInterval),b.requestTrackAll&&(H.setLocal("isExistTraceTimer",!0),this.intervalTrace=setInterval(function(){(r.webActiveState=!H.getCookie("LEFTALLDTO"))&&r.cursorGetDataByKey(r.db,r.storeName[1]).then(function(e){var t;0===e.length&&(clearInterval(r.intervalTrace),H.removeLocal("isExistTraceTimer")),0==r.delDoneCountTrace&&(t=e.slice(0,r.batchDataNumber),r.delDoneCountTrace=t.length,0<t.length&&ie(t,"",!0))})},this.batchTimeInterval))},q.prototype.clearCurInterval=function(){clearInterval(this.intervalNormal),clearInterval(this.intervalTrace),H.removeLocal("isExistNormalTimer"),H.removeLocal("isExistTraceTimer")},q.prototype.uploadLeftAllData=function(){var n=this,a=[],i=this.storeName.length;this.leftAllDataCount=0,this.storeName.forEach(function(r){n.cursorGetDataByKey(n.db,r).then(function(e){i--,n.leftAllDataCount+=e.length;for(var t=0;t<e.length;t+=n.batchDataNumber)a.push({name:r,data:e.slice(t,t+n.batchDataNumber)});0==i&&a.forEach(function(e){"CMB_UPLOAD_DATA_NORMAL"==e.name?ie(e.data):ie(e.data,"",!0)})})})},q.prototype.createDB=function(e){var r,n=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,i=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;this.initConfig(e,a,t);var o=i.open(this.dbName,this.version);return new Promise(function(t,e){o.onsuccess=function(e){r=e.target.result,n.db=r,n.clearCurInterval(),n.batchIntervalTimer(),t(r)},o.onerror=function(e){},o.onupgradeneeded=function(e){r=e.target.result,a.forEach(function(e){r.objectStoreNames.contains(e)||r.createObjectStore(e,{keyPath:"UUID"})})}})},q.prototype.insertData=function(e,t,r){var n=this.db;e={UUID:e.UUID,DATA:window.btoa&&window.btoa(unescape(encodeURIComponent(JSON.stringify(e))))};var a=n.transaction(t,"readwrite").objectStore(t).add(e);a.onsuccess=function(e){r&&"function"==typeof r&&r()},a.onerror=function(e){}},q.prototype.insertDataSuccessHandler=function(r){var n=this,a="CMB_UPLOAD_DATA_NORMAL"==r?"delDoneCountNormal":"delDoneCountTrace";this.webActiveState&&!H.getCookie("LEFTALLDTO")&&this.cursorGetDataByKey(this.db,r).then(function(e){var t;0==n[a]&&e.length>n.batchDataNumber&&(t=e.slice(0,n.batchDataNumber),n[a]=t.length,ie(t,"","CMB_UPLOAD_DATA_TRACK"==r))})},q.prototype.cursorGetDataByKey=function(t,r){return new Promise(function(n,e){var a=[];t.transaction(r,"readwrite").objectStore(r).openCursor().onsuccess=function(e){var t,r=e.target.result;r?(t=r.value,r.value.DATA&&(t=JSON.parse(decodeURIComponent(escape(window.atob(r.value.DATA))))),a.push(t),r.continue()):n(a||[])}})},q.prototype.clearUpDoneData=function(e,t){var r=this;H.setCookie("CLEARING",!0),Array.isArray(e)&&e.forEach(function(e){r.deleteData(e,t)})},q.prototype.reset=function(){this.delDoneCountNormal=0,(this.delDoneCountTrace=0)<this.leftAllDataCount&&(this.leftAllDataCount-=this.batchDataNumber,this.leftAllDataCount<=0&&(H.removeCookie("LEFTALLDTO"),this.leftAllDataCount=0))},q.prototype.deleteData=function(e,t){var r,n=this,a=t?"CMB_UPLOAD_DATA_TRACK":"CMB_UPLOAD_DATA_NORMAL",i="CMB_UPLOAD_DATA_NORMAL"==a?"delDoneCountNormal":"delDoneCountTrace";200===e.code?((r=this.db.transaction(a,"readwrite").objectStore(a).delete(e.data.UUID)).onsuccess=function(){n.deleteDataHandler(i)},r.onerror=function(){n.deleteDataHandler(i)}):this.deleteDataHandler(i)},q.prototype.deleteDataHandler=function(e){0<this[e]&&this[e]--,0==this.delDoneCountTrace&&0==this.delDoneCountNormal&&H.removeCookie("CLEARING"),0<this.leftAllDataCount&&(this.leftAllDataCount--,this.leftAllDataCount<=0&&(H.removeCookie("LEFTALLDTO"),this.leftAllDataCount=0))},q.prototype.requestQueueList=function(){},q.prototype.closeDB=function(e){e.close()},q.prototype.removeCookie=function(){H.removeCookie("LEFTALLDTO",!0),H.removeCookie("LEFTALLDTO",!1),H.removeCookie("CLEARING",!0),H.removeCookie("CLEARING",!1)};var X=new q,G=["https://lf12-32-gateway-st.paasst.cmbchina.cn","http://lf12-32-gateway-st.paasst.cmbchina.cn","https://lf12-32-gateway-st.csst.cmburl.cn","http://lf12-32-gateway-st.csst.cmburl.cn","https://lf12-32-gateway-biz.paas.cmbchina.cn","http://lf12-32-gateway-biz.paas.cmbchina.cn","https://lf12-32-gateway.paas.cmbchina.com","http://lf12-32-gateway.paas.cmbchina.com","http://lf12-32-gateway-dev.paas.cmbchina.cn","https://lf12-32-gateway-dev.paas.cmbchina.cn"];function V(){var e,t=H.getLocal("ARK_LOGINID")||H.getLocal("ARK_TRACKID")||H.getLocal("ARK_ID");return t&&"[object Object]"!==t||(e=(new Date).getTime().toString()+(1e4*Math.random()).toString(),t="JS"+k.MD5(e.toString(),32)+k.MD5(e.toString(),32).slice(0,4),H.setLocal("ARK_ID",t)),t}var K={utm_campaign_id:k.GetUrlParam("campaign_id"),utm_source:k.GetUrlParam("utm_source")||k.GetUrlParam("hmsr"),utm_medium:k.GetUrlParam("utm_medium")||k.GetUrlParam("hmpl"),utm_term:k.GetUrlParam("utm_term")||k.GetUrlParam("hmkw"),utm_content:k.GetUrlParam("utm_content")||k.GetUrlParam("hmci"),utm_campaign:k.GetUrlParam("utm_campaign")||k.GetUrlParam("hmcu")};function J(){this.sessionId=H.getLocal("SEESIONID")||this.setId(),this.sessionDate=H.getLocal("SEESIONDATE")||0}J.prototype.setId=function(){var e=+new Date;return this.sessionId=k.MD5("JS"+e.toString()+1e7*Math.random()),this.sessionDate=e,H.setLocal("SEESIONID",this.sessionId),H.setLocal("SEESIONDATE",this.sessionDate),this.sessionId},J.prototype.getId=function(){var e=new Date,t=e.getTime(),r=e.getTimezoneOffset(),n=new Date(t+60*r*1e3+288e5).getDate();this.sessionDate=H.getLocal("SEESIONDATE")||0;var a=0===this.sessionDate?0:new Date(this.sessionDate+60*r*1e3+288e5).getDate();return this.sessionId&&this.sessionDate&&!(18e5<Number(t)-Number(this.sessionDate))&&n===a||(K={utm_campaign_id:"",utm_source:"",utm_medium:"",utm_term:"",utm_content:"",utm_campaign:""},this.setId()),this.sessionDate=t,H.setLocal("SEESIONDATE",t),this.sessionId=H.getLocal("SEESIONID")||this.setId(),this.sessionId};var W=new J;function $(){var e=(new Date).getTime()+(b.timeStamp||0),t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+"."+t.getMilliseconds()}var z="GMT"+k.clientTimeZone(),Y=(navigator.language||navigator.browserLanguage).toLowerCase();var Z=document.referrer||"";function Q(){var e=document.referrer;try{e=decodeURIComponent(e)}catch(e){}return e}function ee(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||window.location.href,t="",r="";if(!(-1<e.indexOf("?")))return"";for(var n=((r=e&&e.slice(e.indexOf("?")).substring(1))&&r.replace(/\?/g,"&")).split("&"),a=0;a<n.length;a++){var i=T(n[a].split("="),2),o=i[0],s=i[1];b.urlParamsIgnore.map(function(e){return e.toLocaleLowerCase()}).includes(o.toLocaleLowerCase())||(t+="".concat(o,"=").concat(s,"&"))}return t&&t.slice(0,t.length-1)}function te(){var e="Number"===k.paramType(Number(window.screen.width))?Number(window.screen.width):0;return 0===e?window.screen.width:e}function re(){var e="Number"===k.paramType(Number(window.screen.height))?Number(window.screen.height):0;return 0===e?window.screen.height:e}function ne(e){var t=0<arguments.length&&void 0!==e?e:"";try{for(var r=b.apiNameIgnore.concat(G),n=!1,a=0;a<r.length;a++){var i=r[a];if(n=t.includes(i))break}return n}catch(e){console.warn("见微:",e)}}function ae(n,a,i){var o=arguments;if(b.debug)return console.warn(n),X.reset(),void(a&&a());try{b.batchSend&&b.indexedDBInstance?b.indexedDBInstance.then(function(e){var t,r;e?(t=new String((new Date).getTime())+new String(1e4*Math.random()),r=y(y({},JSON.parse(JSON.stringify(n))),{},{UUID:d.MD5(new String(t),8)}),X.insertData(r,i?"CMB_UPLOAD_DATA_TRACK":"CMB_UPLOAD_DATA_NORMAL",a)):ie.apply(void 0,S(o))}):ie.apply(void 0,arguments)}catch(e){console.warn("见微：".concat(e)),ie.apply(void 0,arguments)}}function ie(t,i,o){try{var s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),c=o?b.getConfig("apiTrackHost"):b.getConfig("apiHost"),e=b.getConfig("encryptionRequestData");s.open(b.getConfig("method"),c,!0),s.timeout=b.apiRequestTimeOut;var r=b.getConfig("secretKey")||b.getConfig("uploadID"),n=d.extend(b.getConfig("xhrHeaders"),{"Content-Type":e&&!o?"text/plain":"application/json","secret-key":function(t){try{if(0!==t.indexOf("MNYZ"))return t;for(var e=(new Date).getTime()+(b.timeStamp||0)+"",r=["J","C","H","A","E","D","G","B","I","F"],n="",a=0;a<e.length;a++)n+=r[e[a]];return"".concat(n).concat(t)}catch(e){return console.warn("见微：函数名称uploadIDAddTimeStamp，函数错误".concat(e)),t}}(r)});d.each(n,function(e,t){s.setRequestHeader(t,e)}),s.withCredentials=!0,s.onreadystatechange=function(){var r,n,e,a;4===s.readyState&&(200===s.status?(r=JSON.parse(s.responseText),i&&i(r),b.batchSend?(n=[],t.forEach(function(e,t){n.push({code:r[t].code,data:e})}),X.clearUpDoneData(n,o)):ne(c.split("/front-rest-log")[0])?t.length||oe(t):H.setLocal("CMBUPLOADFAILDATA",[])):(e="Bad HTTP status: "+s.status+" "+s.statusText,console.warn("见微：".concat(e)),i&&i({status:0,error:e}),b.batchSend&&(b.batchSend.deleteAnyway||!s.status||s.status<500&&-1===[401,404,429].indexOf(s.status))?(console.warn("见微：删除数据"),a=[],t.forEach(function(e,t){a.push({code:200,data:e})}),X.clearUpDoneData(a,o)):X.reset(),b.batchSend||oe(t,!0)))};var a=JSON.parse(JSON.stringify(t)),l=b.batchSend?a.map(function(e){return delete e.UUID,e}):a,u=JSON.stringify(l),p=e&&!o?window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))):u;s.ontimeout=function(){s.abort()},s.send(p)}catch(e){X.reset(),console.warn("见微：".concat(e))}}var oe=function(e,t){var r=1<arguments.length&&void 0!==t&&t;try{var n=H.getLocal("CMBUPLOADFAILDATA")||[];r?H.setLocal("CMBUPLOADFAILDATA",e.length?[].concat(S(n),S(e)):[].concat(S(n),[e])):n.length&&se()}catch(e){console.warn("见微：函数名称为storageUploadFailData，错误信息为".concat(e))}},se=function(){try{var e=H.getLocal("CMBUPLOADFAILDATA")||[];if(!e.length)return;var t=e.filter(function(e){return!!e.traceInfo}),r=e.filter(function(e){return!e.traceInfo}),n=Object.assign({},b),a=b.apiHost.split("v2")[0];d.extend(b,{apiHost:a+"v2/encrypt_batch_upload",apiTrackHost:a+"v3/batchTrace",encryptionRequestData:!0});var i=function(e){return e&&0==e.status&&e.error?void 0:(H.setLocal("CMBUPLOADFAILDATA",(H.getLocal("CMBUPLOADFAILDATA")||[]).filter(function(e){return!e.traceInfo})),!0)},o=function(e){return e&&0==e.status&&e.error?void 0:(H.setLocal("CMBUPLOADFAILDATA",(H.getLocal("CMBUPLOADFAILDATA")||[]).filter(function(e){return!!e.traceInfo})),!0)};t.length&&i(null)&&ie(t,i,!0),r.length&&o(null)&&ie(r,o,!1),d.extend(b,n)}catch(e){console.warn("见微：函数名称为batchSend，错误信息为".concat(e))}};var ce,le={base:["_CMB_EVENT_TRACING_VERSION","ServiceUnitId","DeployUnitId","SystemID","DeviceID","ClientSessionID","SessionID","LoginType","LoginID","EventID","ActSerial","Time","ServerTime","TimeZone","Platform","AppVersion","DeviceType","Manufacturer","Brand","Model","OS","OSVersion","Browser","BrowserVersion","Network","CarrierName","ScreenWidth","ScreenHeight","IsLogin","IP","IsFirstDay","Channel","Lib","LibVersion","WebCrawler","Language","Debug","UserAgent","Behavior","Reserver","IsTimeCalibrated"],ClientStart:["IP","Location","IsFirstTime","IsFromBackground","OsType","OsName","OsVersion","ClientVersion","PageLoadID","Url","UrlParams"],ApiInvoke:["TraceId","BeginTime","EndTime","ElapsedTime","ApiName","ApiParams","HttpStatusCode","ResponseCode","Title","Url","UrlParams","ReferrerUrl","Path","SpentTime","PageLoadID"],ClickUpload:["WidgetNo","WidgetStatus","WidgetName","WidgetClickable","WidgetContent","WidgetPath","WidgetType","WidgetX","WidgetY","PageWidth","PageHeight","Path","Url","Title","ReferrerUrl","ClickTime","UrlParams","PageLoadID"],PageLoad:["PageNo","EntryID","ErrorCode","EntryTime","ReferrerUrl","Title","Url","UrlParams","PageLoadID"],PageExit:["PageNo","ExitID","ErrorCode","ExitTime","Title","Url","ReferrerUrl","PageStayTime","UrlParams","PageLoadID"],PageError:["ScriptURI","LineNumber","ColumnNumber","ErrorMessage","ErrorObject","Url","Title","ReferrerUrl","UrlParams","PageLoadID"],PagePerformance:["Memory","Navigation","Timing","ReferrerUrl","Title","Url","ElapsedTime","UrlParams","PageLoadID"],WebStay:["ViewDuration","ViewportHeight","ViewportPosition","ViewportWidth","Url","ReferrerUrl","Title","UrlParams","PageLoadID"]},ue={},pe=k.toDeepObj(le.base)||{};for(var de in le){"base"!==de?(ce=k.toDeepObj(le[de]),ue[de]=k.objMerge(pe,{Behavior:ce})):ue.base=k.objMerge(pe,{Behavior:{}})}var me="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function fe(e,t){return e(t={exports:{}},t.exports),t.exports}var he=fe(function(X,G){!function(a,p){function e(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t}function i(e,t){return typeof e==l&&-1!==M(t).indexOf(M(e))}function o(e,t){if(typeof e==l)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t==c?e:e.substring(0,255)}function s(e,t){for(var r,n,a,i,o,s=0;s<t.length&&!i;){for(var c=t[s],l=t[s+1],u=r=0;u<c.length&&!i;)if(i=c[u++].exec(e))for(n=0;n<l.length;n++)o=i[++r],typeof(a=l[n])==m&&0<a.length?2===a.length?typeof a[1]==d?this[a[0]]=a[1].call(this,o):this[a[0]]=a[1]:3===a.length?typeof a[1]!=d||a[1].exec&&a[1].test?this[a[0]]=o?o.replace(a[1],a[2]):p:this[a[0]]=o?a[1].call(this,o,a[2]):p:4===a.length&&(this[a[0]]=o?a[3].call(this,o.replace(a[1],a[2])):p):this[a]=o||p;s+=2}}function t(e,t){for(var r in t)if(typeof t[r]==m&&0<t[r].length){for(var n=0;n<t[r].length;n++)if(i(t[r][n],e))return"?"===r?p:r}else if(i(t[r],e))return"?"===r?p:r;return e}var d="function",c="undefined",m="object",l="string",u="model",f="name",h="type",v="vendor",g="version",w="architecture",r="console",n="mobile",y="tablet",b="smarttv",T="wearable",S="embedded",O="Amazon",C="Apple",N="BlackBerry",D="Browser",A="Chrome",I="Firefox",E="Google",k="Microsoft",L="Motorola",x="Opera",_="Samsung",B="Sony",P="Zebra",U="Facebook",M=function(e){return e.toLowerCase()},j={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},R={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,g],[/opios[\/ ]+([\w\.]+)/i],[g,[f,x+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[f,x]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[f,"UC"+D]],[/\bqbcore\/([\w\.]+)/i],[g,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+D],g],[/\bfocus\/([\w\.]+)/i],[g,[f,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[f,x+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[f,x+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[f,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[g,[f,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+D]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+D],g],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,U],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[f,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,A+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[f,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,g],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[g,[f,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[g,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[g,t,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[f,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,g]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,M]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,"",M]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,M]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[v,_],[h,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[v,_],[h,n]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[v,C],[h,n]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[v,C],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[v,"Huawei"],[h,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[u,[v,"Huawei"],[h,n]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[v,"Xiaomi"],[h,n]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[v,"Xiaomi"],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[v,"OPPO"],[h,n]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[v,"Vivo"],[h,n]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[v,"Realme"],[h,n]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[v,L],[h,n]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[v,L],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[v,"LG"],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[v,"LG"],[h,n]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[v,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[v,"Nokia"],[h,n]],[/(pixel c)\b/i],[u,[v,E],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[v,E],[h,n]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[v,B],[h,n]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[v,B],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[v,"OnePlus"],[h,n]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[v,O],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[v,O],[h,n]],[/(playbook);[-\w\),; ]+(rim)/i],[u,v,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[v,N],[h,n]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[v,"ASUS"],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[v,"ASUS"],[h,n]],[/(nexus 9)/i],[u,[v,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[v,[u,/_/g," "],[h,n]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[v,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[v,"Meizu"],[h,n]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[v,"Sharp"],[h,n]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,u,[h,n]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,u,[h,y]],[/(surface duo)/i],[u,[v,k],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[v,"Fairphone"],[h,n]],[/(u304aa)/i],[u,[v,"AT&T"],[h,n]],[/\bsie-(\w*)/i],[u,[v,"Siemens"],[h,n]],[/\b(rct\w+) b/i],[u,[v,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[u,[v,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[u,[v,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[v,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[u,[v,"NuVision"],[h,y]],[/\b(k88) b/i],[u,[v,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[u,[v,"ZTE"],[h,n]],[/\b(gen\d{3}) b.+49h/i],[u,[v,"Swiss"],[h,n]],[/\b(zur\d{3}) b/i],[u,[v,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[u,[v,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],u,[h,y]],[/\b(ns-?\w{0,9}) b/i],[u,[v,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[v,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],u,[h,n]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],u,[h,n]],[/\b(ph-1) /i],[u,[v,"Essential"],[h,n]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[v,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[u,[v,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[u,[v,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[u,[v,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[v,u,[h,n]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[v,k],[h,n]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[v,P],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[v,P],[h,n]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,u,[h,r]],[/droid.+; (shield) bui/i],[u,[v,"Nvidia"],[h,r]],[/(playstation [345portablevi]+)/i],[u,[v,B],[h,r]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[v,k],[h,r]],[/smart-tv.+(samsung)/i],[v,[h,b]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[v,_],[h,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,"LG"],[h,b]],[/(apple) ?tv/i],[v,[u,C+" TV"],[h,b]],[/crkey/i],[[u,A+"cast"],[v,E],[h,b]],[/droid.+aft(\w)( bui|\))/i],[u,[v,O],[h,b]],[/\(dtv[\);].+(aquos)/i],[u,[v,"Sharp"],[h,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,o],[u,o],[h,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,b]],[/((pebble))app/i],[v,u,[h,T]],[/droid.+; (glass) \d/i],[u,[v,E],[h,T]],[/droid.+; (wt63?0{2,3})\)/i],[u,[v,P],[h,T]],[/(quest( 2)?)/i],[u,[v,U],[h,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[h,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[h,n]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,n]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[g,t,j]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[g,t,j]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[g,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,g],[/\(bb(10);/i],[g,[f,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[f,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[f,A+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,g],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,g]]},F=function(e,t){if(typeof e==m&&(t=e,e=p),!(this instanceof F))return new F(e,t).getResult();var r=e||(typeof a!=c&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),n=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(R,t):R;return this.getBrowser=function(){var e,t={};return t[f]=p,t[g]=p,s.call(t,r,n.browser),t.major=typeof(e=t.version)==l?e.replace(/[^\d\.]/g,"").split(".")[0]:p,t},this.getCPU=function(){var e={};return e[w]=p,s.call(e,r,n.cpu),e},this.getDevice=function(){var e={};return e[v]=p,e[u]=p,e[h]=p,s.call(e,r,n.device),e},this.getEngine=function(){var e={};return e[f]=p,e[g]=p,s.call(e,r,n.engine),e},this.getOS=function(){var e={};return e[f]=p,e[g]=p,s.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e==l&&255<e.length?o(e,255):e,this},this.setUA(r),this};F.VERSION="1.0.2",F.BROWSER=e([f,g,"major"]),F.CPU=e([w]),F.DEVICE=e([u,v,h,r,n,b,y,T,S]),F.ENGINE=F.OS=e([f,g]),X.exports&&(G=X.exports=F),G.UAParser=F;var H,q=typeof a!=c&&(a.jQuery||a.Zepto);q&&!q.ua&&(H=new F,q.ua=H.getResult(),q.ua.get=function(){return H.getUA()},q.ua.set=function(e){H.setUA(e);var t=H.getResult();for(var r in t)q.ua[r]=t[r]})}("object"==typeof window?window:me)}),ve=(he.UAParser,new he);var ge=navigator.userAgent.toLowerCase();var we={SystemID:{value:function(){return b.systemID},valueType:0},ReduceClientID:{value:null,valueType:1},DeviceID:{value:null,valueType:1},ClientSessionID:{value:function(){return window.sessionStorage.getItem("CMB_SESSION")},valueType:0},LoginType:{value:function(){return H.getLocal("ARK_LOGINTYPE")||b.loginType},valueType:0},SessionID:{value:null,valueType:1},LoginID:{value:V,valueType:0},Time:{value:$,valueType:0},EventID:{value:function(){return b.curEventId},valueType:0},IP:{value:null,valueType:1},OsType:{value:ve.getOS().name,valueType:1},OsName:{value:ve.getOS().name,valueType:1},OsVersion:{value:ve.getOS().version,valueType:1},ClientVersion:{value:ve.getDevice().model,valueType:1},TraceId:{value:null,valueType:1},BeginTime:{value:null,valueType:1},EndTime:{value:null,valueType:1},UrlName:{value:null,valueType:1},ResponseCode:{value:null,valueType:1},ElapsedTime:{value:null,valueType:1},WidgetNo:{value:function(){return L.ele.getAttribute("widgetno")||j()},valueType:0},WidgetStatus:{value:function(){return L.ele.getAttribute("widgetstatus")||""},valueType:0},WidgetName:{value:M,valueType:0},ModuleName:{value:function(){return L.ele.getAttribute("modulename")||function(e){for(var t=e||L.ele||null,r="";null!=t;){var n=t.tagName;if(n){n=n.toLowerCase();var a=t.getAttribute("moduleName");if(r=a?"".concat(n,"#").concat(a):"")break;t=t.parentNode}else t=t.parentNode}return r}(L.ele)},valueType:0},ClickTime:{value:$,valueType:0},PageNo:{value:function(){var e="",e=b.curryTitle!=document.title&&b.curryPageNo||document.title;return b.curryTitle=document.title,e},valueType:0},EntryID:{value:function(){return b.referrerUrl},valueType:0},EntryTime:{value:$,valueType:0},ExitID:{value:null,valueType:1},ErrorCode:{value:null,valueType:1},ExitTime:{value:$,valueType:0},StayTime:{value:null,valueType:1},ScriptURI:{value:null,valueType:1},LineNumber:{value:null,valueType:1},ColumnNumber:{value:null,valueType:1},ErrorMessage:{value:null,valueType:1},ErrorObject:{value:null,valueType:1},Memory:{value:function(){var e={},t=window.performance&&window.performance.memory||{};for(var r in t)e[r]=t[r];return e},valueType:0},Navigation:{value:function(){return window.performance&&window.performance.navigation||{}},valueType:0},Timing:{value:function(){return window.performance&&window.performance.timing||{}},valueType:0},Platform:{value:ve.getDevice().type||"PC",valueType:1},DeviceType:{value:ve.getDevice().model,valueType:1},OS:{value:ve.getOS().name,valueType:1},OSVersion:{value:ve.getOS().version,valueType:1},Browser:{value:ve.getBrowser().name,valueType:1},BrowserVersion:{value:ve.getBrowser().version,valueType:1},ScreenWidth:{value:te,valueType:0},ScreenHeight:{value:re,valueType:0},IsLogin:{value:function(){var e=!1;return H.getLocal("ARK_LOGINID")&&(e=!0),e},valueType:0},Ip:{value:"S",valueType:1},UtmCampaignId:{value:K.utm_campaign_id,valueType:1},UtmCampaign:{value:K.utm_campaign,valueType:1},UtmMedium:{value:K.utm_medium,valueType:1},UtmSource:{value:K.utm_source,valueType:1},UtmContent:{value:K.utm_content,valueType:1},UtmTerm:{value:"ScreenWidth: ".concat(te(),"; ScreenHeight: ").concat(re()),valueType:1},IsFirstDay:{value:function(){var e=new Date,t=e.getFullYear(),r=(r=e.getMonth()+1)<10?"0"+r:r,n=e.getDate(),a=t+""+r+(n=n<10?"0"+n:n),i=H.getLocal("FRISTDAY");return!i||a===i},valueType:0},Lib:{value:"JS",valueType:1},LibVersion:{value:function(){return b.libVersion},valueType:0},TimeZone:{value:z,valueType:1},WebCrawler:{value:function(){return!!ge.match(/(bot|crawler|spider|scrapy|dnspod|ia_archiver|jiankongbao|slurp|transcoder|networkbench|oneapm|PhantomJS|BingPreview)/i)},valueType:0},Language:{value:Y,valueType:1},Debug:{value:function(){return b.debug},valueType:0},SessionId:{value:function(){return W.getId()},valueType:0},UserAgent:{value:window.navigator.userAgent,valueType:1},StartupTime:{value:$,valueType:0},ViewportHeight:{valueType:0,value:function(){return document.documentElement.clientHeight||document.body.clientHeight}},ViewportWidth:{valueType:0,value:function(){return document.documentElement.clientWidth||document.body.clientWidth}},ViewportPosition:{valueType:0,value:function(){var e=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,t=document.documentElement&&document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft||0;return(Math.round(e)||0)+","+(Math.round(t)||0)}},Referrer:{valueType:0,value:Q},ReferrerDomain:{valueType:0,value:function(){return k.getDomainFromUrl(!1,Z)}},Title:{valueType:0,value:function(){return document.title}},UrlDomain:{valueType:1,value:document.domain},Url:{valueType:0,value:function(){var e=window.location.href;-1<e.indexOf("?")&&(e=e.split("?")[0]);try{e=decodeURIComponent(e)}catch(e){}return e}},UrlParams:{valueType:0,value:ee},UrlPath:{valueType:0,value:function(){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.hash;try{e=decodeURIComponent(e)}catch(e){}return e}},WidgetX:{valueType:0,value:function(){return L.click_x}},WidgetY:{valueType:0,value:function(){return L.click_y}},PageWidth:{valueType:0,value:function(){return document.documentElement.scrollWidth}},PageHeight:{valueType:0,value:function(){return document.documentElement.scrollHeight}},ElementPath:{valueType:0,value:_},ElementModPath:{valueType:0,value:x},ElementId:{valueType:0,value:function(){return L.ele.id||L.ele.getAttribute("id")||""}},ElementX:{valueType:0,value:function(){return L.elementX}},ElementY:{valueType:0,value:function(){return L.elementY}},WidgetContent:{valueType:0,value:M},WidgetPath:{valueType:0,value:_},WidgetType:{valueType:0,value:B},ElementName:{valueType:0,value:function(){return L.ele.getAttribute("name")||""}},ElementClassName:{valueType:0,value:j},ElementClickable:{valueType:0,value:U},ReferrerUrl:{value:Q,valueType:0},Manufacturer:{value:ve.getDevice().vendor,valueType:1},Brand:{value:ve.getDevice().vendor,valueType:1},Model:{value:ve.getDevice().model,valueType:1},ServiceUnitId:{value:function(){return b.serviceUnitId},valueType:0},DeployUnitId:{value:function(){return b.deployUnitId},valueType:0},ActSerial:{value:null,valueType:1},ServerTime:{value:null,valueType:1},AppVersion:{value:null,valueType:1},Network:{value:null,valueType:1},CarrierName:{value:null,valueType:1},Channel:{value:null,valueType:1},Location:{value:null,valueType:1},IsFromBackground:{value:null,valueType:1},_CMB_EVENT_TRACING_VERSION:{value:"2.0",valueType:1},WidgetClickable:{value:!0,valueType:1},PageLoadID:{value:function(){try{var e,t=window.location.href;return t!==b.prePageUrlData&&(b.prePageUrlData=t,e=new String((new Date).getTime())+new String(1e4*Math.random()),b.PageLoadID=d.MD5(new String(e),32)),b.PageLoadID}catch(e){console.warn("见微：".concat(e,"，fnName: getPageLoadID"))}},valueType:0}};var ye=function(e,t,r,n){var a,i,o,s;"function"!=typeof r&&(r=function(){}),"Undefined"!=k.paramType(e)?(b.curEventId=e,a=function e(t,r){var n=r||we,a={};for(var i in t){var o,s,c=t[i],l=n[i],u="";"Object"===k.paramType(c)?(o=e(c,l),a[i]=o):l&&k.objHasKay(l,"valueType")&&(0===l.valueType&&(u=l.value()),1===l.valueType&&(u=l.value||""),"String"!==k.paramType(u)||!u.includes("http")&&!u.includes("https")||-1<(s=u.indexOf("?"))&&(u=k.stringSlice(u,s)),a[i]=u)}return a}(ue[e]||ue.base),o={},o=t&&t.Behavior?(i={Behavior:t.Behavior},delete t.Behavior,k.objMergeMutle(a,i,{Reserver:t||{}})):k.objMerge(a,{Reserver:t||{}}),s=H.getLocal("CMB_SUPER")||{},k.isEmptyObject(s)||(o.Reserver=k.objMerge(o.Reserver,s)),b.beforeUploadCb&&"Function"==k.paramType(b.beforeUploadCb)?b.beforeUploadCb(o):n?function(e,t){if(!b.debug)try{var r=t?b.getConfig("apiTrackHost"):b.getConfig("apiHost"),n=b.getConfig("secretKey")||b.getConfig("uploadID"),a=d.extend(b.getConfig("xhrHeaders"),{"Content-Type":"application/json","secret-key":n});fetch(r,{headers:a,method:"POST",keepalive:!0,body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){})}catch(e){console.warn("fetchFunc Error",e)}}(o):ae(o,r),L.ele=document.getElementsByTagName("body")[0],L.click_x=0,L.click_y=0,L.clickEle=""):console.warn("请定义事件名称")},be={};function Te(e){var t=e||window.event;t.touches&&0<t.touches.length&&(t=t.touches[0]);var r=t.target||t.srcElement;if(!(k.checkTypeList(be.autoClickBlackList,r)||be.autoClickWhiteList&&!k.checkTypeList(be.autoClickWhiteList,r))){L.ele=r,L.click_x=t.clientX,L.click_y=t.clientY,P();var n=x(L.ele);if(""!=M()||n.includes("#")){var a,i=function t(r){var n=arguments;var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return function(e){try{var e=1<n.length&&void 0!==n[1]?n[1]:[];if(!(r instanceof HTMLElement))return void console.warn("见微：receive only HTMLElement");if(r.parentElement)return"BODY"!==r.parentElement.nodeName?(e.push(r.parentElement),t(r.parentElement,e)):e}catch(e){}}(e)}(r);try{if(i&&i.length)for(var o=0;o<i.length;o++){if(null!==i[o].getAttribute("notrack"))return}}catch(t){console.warn("见微：".concat(t))}null===r.getAttribute("notrack")&&(a=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";try{for(var o=b.clickUploadCustomData||[],s={},e=0;e<o.length;e++)!function(e){var t=o[e],r=i&&i.getAttribute(t),n=T(a.map(function(e){return e.getAttribute(t)}).filter(function(e){return e})||[],1)[0];(r||n)&&(s[t]=r||n)}(e);return s}catch(e){console.warn("见微：",e)}}(i,r),n.includes("#")&&(a.ElementModPath=n),ye("ClickUpload",a))}}}function Se(e){return!0===(be=e).autoTrack&&("desktop"===k.deviceType()?k.addEvent(document,"mousedown",Te):b.isUseClickReplaceTouchStart?k.addEvent(document,"click",Te):k.addEvent(document,"touchstart",Te)),e}var Oe=fe(function(e,t){e.exports=function(){function r(e){return!isNaN(parseFloat(e))&&isFinite(e)}function n(e){return e.charAt(0).toUpperCase()+e.substring(1)}function e(e){return function(){return this[e]}}var t=["isConstructor","isEval","isNative","isToplevel"],a=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=["args"],s=["evalOrigin"],c=t.concat(a,i,o,s);function p(e){if(!e)return;for(var t=0;t<c.length;t++){if(e[c[t]]!==undefined){this["set"+n(c[t])](e[c[t]])}}}p.prototype={getArgs:function(){return this.args},setArgs:function(e){if(Object.prototype.toString.call(e)!=="[object Array]"){throw new TypeError("Args must be an Array")}this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof p){this.evalOrigin=e}else if(e instanceof Object){this.evalOrigin=new p(e)}else{throw new TypeError("Eval Origin must be an Object or StackFrame")}},toString:function(){var e=this.getFileName()||"";var t=this.getLineNumber()||"";var r=this.getColumnNumber()||"";var n=this.getFunctionName()||"";if(this.getIsEval()){if(e){return"[eval] ("+e+":"+t+":"+r+")"}return"[eval]:"+t+":"+r}if(n){return n+" ("+e+":"+t+":"+r+")"}return e+":"+t+":"+r}},p.fromString=function e(t){var r=t.indexOf("(");var n=t.lastIndexOf(")");var a=t.substring(0,r);var i=t.substring(r+1,n).split(",");var o=t.substring(n+1);if(o.indexOf("@")===0){var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,"");var c=s[1];var l=s[2];var u=s[3]}return new p({functionName:a,args:i||undefined,fileName:c,lineNumber:l||undefined,columnNumber:u||undefined})};for(var l=0;l<t.length;l++){p.prototype["get"+n(t[l])]=e(t[l]);p.prototype["set"+n(t[l])]=function(t){return function(e){this[t]=Boolean(e)}}(t[l])}for(var u=0;u<a.length;u++){p.prototype["get"+n(a[u])]=e(a[u]);p.prototype["set"+n(a[u])]=function(t){return function(e){if(!r(e)){throw new TypeError(t+" must be a Number")}this[t]=Number(e)}}(a[u])}for(var d=0;d<i.length;d++){p.prototype["get"+n(i[d])]=e(i[d]);p.prototype["set"+n(i[d])]=function(t){return function(e){this[t]=String(e)}}(i[d])}return p}()}),Ce=fe(function(e,t){e.exports=function(c){var n=/(^|@)\S+:\d+/,a=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function e(t){if(typeof t.stacktrace!=="undefined"||typeof t["opera#sourceloc"]!=="undefined"){return this.parseOpera(t)}else if(t.stack&&t.stack.match(a)){return this.parseV8OrIE(t)}else if(t.stack){return this.parseFFOrSafari(t)}else{throw new Error("Cannot parse given Error object")}},extractLocation:function e(t){if(t.indexOf(":")===-1){return[t]}var r=/(.+?)(?::(\d+))?(?::(\d+))?$/;var n=r.exec(t.replace(/[()]/g,""));return[n[1],n[2]||undefined,n[3]||undefined]},parseV8OrIE:function e(t){var r=t.stack.split("\n").filter(function(e){return!!e.match(a)},this);return r.map(function(e){if(e.indexOf("(eval ")>-1){e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,"")}var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(");var r=t.match(/ (\((.+):(\d+):(\d+)\)$)/);t=r?t.replace(r[0],""):t;var n=t.split(/\s+/).slice(1);var a=this.extractLocation(r?r[1]:n.pop());var i=n.join(" ")||undefined;var o=["eval","<anonymous>"].indexOf(a[0])>-1?undefined:a[0];return new c({functionName:i,fileName:o,lineNumber:a[1],columnNumber:a[2],source:e})},this)},parseFFOrSafari:function e(t){var r=t.stack.split("\n").filter(function(e){return!e.match(i)},this);return r.map(function(e){if(e.indexOf(" > eval")>-1){e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")}if(e.indexOf("@")===-1&&e.indexOf(":")===-1){return new c({functionName:e})}else{var t=/((.*".+"[^@]*)?[^@]*)(?:@)/;var r=e.match(t);var n=r&&r[1]?r[1]:undefined;var a=this.extractLocation(e.replace(t,""));return new c({functionName:n,fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:e})}},this)},parseOpera:function e(t){if(!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length){return this.parseOpera9(t)}else if(!t.stack){return this.parseOpera10(t)}else{return this.parseOpera11(t)}},parseOpera9:function e(t){var r=/Line (\d+).*script (?:in )?(\S+)/i;var n=t.message.split("\n");var a=[];for(var i=2,o=n.length;i<o;i+=2){var s=r.exec(n[i]);if(s){a.push(new c({fileName:s[2],lineNumber:s[1],source:n[i]}))}}return a},parseOpera10:function e(t){var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var n=t.stacktrace.split("\n");var a=[];for(var i=0,o=n.length;i<o;i+=2){var s=r.exec(n[i]);if(s){a.push(new c({functionName:s[3]||undefined,fileName:s[2],lineNumber:s[1],source:n[i]}))}}return a},parseOpera11:function e(t){var r=t.stack.split("\n").filter(function(e){return!!e.match(n)&&!e.match(/^Error created at/)},this);return r.map(function(e){var t=e.split("@");var r=this.extractLocation(t.pop());var n=t.shift()||"";var a=n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||undefined;var i;if(n.match(/\(([^)]*)\)/)){i=n.replace(/^[^(]+\(([^)]*)\)$/,"$1")}var o=i===undefined||i==="[arguments not available]"?undefined:i.split(",");return new c({functionName:a,args:o,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e})},this)}}}(Oe)}),Ne=function(e){var t={fileName:0,lineNumber:0,columnNumber:0,functionName:""};try{t=Ce.parse(e)[0]}catch(e){}console.error(e),window.onerror(e&&e.message,t.fileName,t.lineNumber,t.columnNumber,e,t.functionName)},De=window.onerror;function Ae(e){var t=e.target||e.srcElement;t&&null==t.getAttribute("notrack")&&ye("PageError",{Behavior:{ErrorMessage:(t.src||t.href)+" is not found",ScriptURI:t.src||t.href,LineNumber:0,ColumnNumber:0,ErrorObject:t.localName+" is not found"}})}function Ie(e){Ne(e.reason)}function Ee(){window.onerror=function(e,t,r,n,a,i){var o=e;return a&&a.stack&&(o=k.processStackMsg(a)),function(e){{if(!e||"String"!=Object.prototype.toString.call(e).replace("[object ","").replace("]",""))return!1;if(b.ignoreCrossError&&e.includes("script error"))return!1;if(b.ignoreChromeExtensionError&&e.includes("chrome-extension"))return!1;for(var t=b.getConfig("errorIgnore"),r=0;r<t.length;r++)if(-1<e.indexOf(t[r].toLocaleLowerCase()))return!1}return!0}(o?o.toLocaleLowerCase():"")&&ye("PageError",{Behavior:{ErrorMessage:e+(i?"  @  "+i:""),ScriptURI:t,LineNumber:r,ColumnNumber:n,ErrorObject:o||a}}),De&&De.apply(window,arguments)},document.addEventListener("error",Ae,!0),window.addEventListener("unhandledrejection",Ie)}function ke(){var e=b.prePageParams.loadTime,t={PageNo:document.title,ExitID:"",ErrorCode:"",ExitTime:(new Date).getTime(),PageStayTime:(new Date).getTime()-e};ye("PageExit",{Behavior:t}),H.removeCookie("LEFTALLDTO"),X.clearCurInterval()}var Le=60*(b.pageExitDelayTime||1)*1e3,xe=null,_e=null;function Be(){if("hidden"===document.visibilityState&&(xe=setTimeout(function(){var e=b.prePageParams.loadTime,t={PageNo:document.title,ExitID:"",ErrorCode:"",ExitTime:(new Date).getTime(),PageStayTime:(new Date).getTime()-e};ye("PageExit",{Behavior:t},function(){b.batchSend&&!H.getCookie("LEFTALLDTO")&&(H.setCookie("LEFTALLDTO",!0),_e=setInterval(function(){H.getCookie("CLEARING")||(clearInterval(_e),X.uploadLeftAllData())},500),setTimeout(function(){H.removeCookie("LEFTALLDTO")},5e3))})},Le)),"visible"===document.visibilityState){clearTimeout(xe);try{b.batchSend&&window.onfocus()}catch(e){console.warn("见微：window.onfocus",e)}}}var Pe,Ue,Me,je,Re,Fe;!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var r,n;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(r=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n=r.preventDefault,r.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},r};t.prototype=window.Event.prototype,window.CustomEvent=t}}();function He(){function a(t,e){var r,n,a=t.responseURL||t.__zone_symbol__xhrURL||t._url,i=ee(a),o=I(a),s=o.requestStart,c=o.responseEnd,l={BeginTime:t.startTime,EndTime:t.endTime,ApiName:"String"===k.paramType(a)&&a.includes("?")?a.split("?")[0]:a,ElapsedTime:t.endTime-t.startTime,ApiParams:i,HttpStatusCode:t.status||t._status||0,ResourceStartTime:s,ResourceEndTime:c};t.startTime&&t.endTime||(r=(window.performance&&window.performance.getEntries()||[]).map(function(e){return e.name===l.ApiName}),l.ElapsedTime=r.length&&r[r.length-1].duration),t._trackBody&&(n=t._trackBody.traceInfo,l.TraceId=n.traceId);var u,p,d="".concat(t.status||t._status);if(!e)try{(t.status||t._status)<400&&(u=k.getXhrRespon(t),p=b.getConfig("apiInvokeCode"),k.getCodefromRespon(p,u)&&(d=k.getCodefromRespon(p,u)));var m=b.getConfig("requestCode");m&&(l.RequestCode=function(e,t){{if(!e._requestBody||"String"!==k.paramType(e._requestBody)||!k.isJsonString(e._requestBody))return"RequestBody Parse Error, body is not JSON Data";try{return JSON.parse(e._requestBody)[t]}catch(e){return"RequestBody Parse Error, ".concat(e)}}}(t,m))}catch(e){d="Response Parse Error, HttpStatus:".concat(t.status||t._status)}l.ResponseCode=d;var f=b.getConfig("apiHost"),h=b.getConfig("apiTrackHost");!l.ApiName||-1<l.ApiName.indexOf(f)||-1<l.ApiName.indexOf(h)||ne(l.ApiName)||Math.random()>=b.getConfig("random")||ye("ApiInvoke",{Behavior:l})}function h(e,t){e.traceInfo.businessId=t._header["X-B3-BusinessId"],k.isEmptyObject(k.filterJsonFromString(t._header["X-B3-TraceBaggage"]))||(e.traceInfo.baggage=k.filterJsonFromString(t._header["X-B3-TraceBaggage"]));var r=(t.responseURL||t._url).split("?")[0];e.traceInfo.path=-1<r.indexOf("http")?"/".concat(r.replace(/^http(s)?:\/\/(.*?)\//,"")):r,e.traceInfo.url=-1<r.indexOf("http")?r:window.location.origin+r,e.traceInfo.host=window.location.origin,e.traceInfo.method=t._method,e.traceInfo.startTimestamp=t.startTime,e.traceInfo.endTimestamp=t.endTime,e.traceInfo.responseCode=t.status||t._status,e.traceInfo.errorCode=b.errorCodeKey&&(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};try{if(4===e.readyState||4===e._readyState){var t=e.response||e._responseText;if(t&&"String"===k.paramType(t))try{t=JSON.parse(t)}catch(e){t={}}var r,n=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=O(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(b.errorCodeKey.split("."));try{for(n.s();!(r=n.n()).done;){var a=r.value;t=t&&t[a]}}catch(e){n.e(e)}finally{n.f()}return t||function(e){try{return e.status&&300<=e.status||e._status&&300<=e._status?b.defaultErrorCode||(e.status||e._status)+"":"SUC0000"}catch(e){console.warn("见微：".concat(e))}}(e)}}catch(e){console.warn("见微：".concat(e))}}(t)||"")}function r(e){try{var t=new CustomEvent(e,{detail:this});window.dispatchEvent(t)}catch(e){}}Ue=function(e){var t,r=e,n=r.detail;n?!(0<n.status&&n.status<400)||"json"===(t=(n.responseType+"").toLowerCase())||"text"===t&&"String"===k.paramType(n.response)&&k.isJsonString(n.response)?a(n):a(n,n.status):console.warn("Api拦截到的XMl数据有误",r)},window.addEventListener("CMBTrackXMLEnd",Ue),Pe=Pe||window.XMLHttpRequest,Re=Re||Pe.prototype.setRequestHeader,Fe=Fe||Pe.prototype.open,je=je||Pe.prototype.send,Pe.prototype.open=function(e,t){return this._url=t,this._method=e,Fe.apply(this,arguments)};var n=["X-B3-TraceBaggage","X-B3-BusinessId"];Pe.prototype.setRequestHeader=function(e,t){return this._header=this._header||{},-1<n.indexOf(e)&&("X-B3-TraceBaggage"===e?(t&&-1===t.indexOf("emicroUserId=")||!this._header["X-B3-TraceBaggage"])&&(this._header[e]="".concat(t?t+",":"","emicroUserId=").concat(encodeURIComponent(V())),arguments[1]=this._header[e]):this._header[e]=t),Re.apply(this,arguments)},Pe.prototype.send=function(e){var t={traceId:"X-B3-TraceId",spanId:"X-B3-SpanId",parentSpanId:"X-B3-ParentSpanId",X_B3_Timestamp:"X-B3-Timestamp",X_B3_Sampled:"X-B3-Sampled",X_B3_TraceBaggage:"X-B3-TraceBaggage"},r=b.getConfig("apiTrackHost"),n=b.getConfig("apiHost"),a=b.getConfig("requestCode");if(this._url&&-1==this._url.indexOf(r)&&-1==this._url.indexOf(n)&&!ne(this._url)&&(a&&(this._requestBody=e),b.requestTrackAll)){this._trackBody=k.fillTrackRequestAllBody();var i=this._trackBody.traceInfo,o=JSON.parse(JSON.stringify(i)),s=new String((new Date).getTime())+new String(1e4*Math.random());for(var c in o.parentSpanId=i.spanId,o.spanId=k.MD5(new String(s),8),o.X_B3_Timestamp=this.startTime=(new Date).getTime(),o.X_B3_Sampled=1,o.X_B3_TraceBaggage="",o)this.setRequestHeader(t[c],o[c])}return je.apply(this,arguments)},window.XMLHttpRequest=function(){try{var e=Pe?new Pe:new ActiveXObject("Microsoft.XMLHTTP");return e.addEventListener("loadstart",function(){this.startTime=this.startTime||(new Date).getTime()},!1),e.addEventListener("loadend",function(){this.endTime=(new Date).getTime(),r.call(this,"CMBTrackXMLEnd");var e=b.getConfig("apiTrackHost"),t=b.getConfig("apiHost");b.requestTrackAll&&this._url&&-1==this._url.indexOf(e)&&-1==this._url.indexOf(t)&&!ne(this._url)&&E(this._header)&&(h(this._trackBody,this),b.beforeUploadCb&&"Function"==k.paramType(b.beforeUploadCb)?b.beforeUploadCb(this._trackBody):ae(this._trackBody,"",!0))},!1),e.addEventListener("error",function(){this.endTime=(new Date).getTime(),r.call(this,"CMBTrackXMLEnd")},!1),e.onreadystatechange=function(){try{this._status=this.status,this._readyState=this.readyState,4==this.readyState&&(this._responseText=""==this.responseType||"text"==this.responseType?this.responseText:"")}catch(e){}},e}catch(e){console.warn(e)}},Me=Me||window.fetch,window.fetch=function(d){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=d;if(!m.method)return Me.apply(this,arguments);var t=ee(e),f={BeginTime:(new Date).getTime(),ApiName:d,ApiParams:t};if(b.requestTrackAll&&!ne(d)){var r={traceId:"X-B3-TraceId",spanId:"X-B3-SpanId",parentSpanId:"X-B3-ParentSpanId",X_B3_Timestamp:"X-B3-Timestamp",X_B3_Sampled:"X-B3-Sampled"},n=k.fillTrackRequestAllBody(),a=(m.trackBody=n).traceInfo,i=JSON.parse(JSON.stringify(a)),o=new String((new Date).getTime())+new String(1e4*Math.random());if(i.parentSpanId=a.spanId,i.spanId=k.MD5(new String(o),8),i.X_B3_Timestamp=(new Date).getTime(),i.X_B3_Sampled=1,m.headers&&m.headers.append&&"function"==typeof m.headers.append)for(var s in i)m.headers.append(r[s],i[s]);else if(m.headers&&Array.isArray(m.headers))m.headers.push([r[key],i[key]]);else{var c={};for(var l in i)c[r[l]]=i[l];m.headers=y(y({},m.headers),c)}}return Me.apply(this,arguments).then(function(){var s,t=(s=regeneratorRuntime.mark(function e(t){var r,n,a,i,o,s,c,l,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=I(t.url),n=r.requestStart,a=r.responseEnd,f.EndTime=(new Date).getTime(),f.HttpStatusCode=t.status||0,f.ResourceStartTime=n,f.ResourceEndTime=a,f.ApiName=t.url,f.ElapsedTime=f.EndTime-f.BeginTime,b.requestTrackAll&&(i=m.trackBody,f.TraceId=i.traceInfo&&i.traceInfo.traceId),o=t.clone(),s={},c=void 0===m.responseType?"json":m.responseType,e.prev=12,"json"===c)return e.next=16,o.json();e.next=19;break;case 16:s=e.sent,e.next=22;break;case 19:return e.next=21,o[c]();case 21:s=e.sent;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(12),console.warn("见微：Fetch-Response-ParseError-by-"+c,e.t0);case 27:l=b.getConfig("apiInvokeCode"),f.ResponseCode=k.getCodefromRespon(l,s),Math.random()>=b.getConfig("random")||ne(d)||ye("ApiInvoke",{Behavior:f}),b.requestTrackAll&&!ne(d)&&E(m.headers)&&(u=m.trackBody,p={_header:{"X-B3-BusinessId":m.headers["X-B3-BusinessId"],"X-B3-TraceBaggage":m.headers["X-B3-TraceBaggage"]},responseURL:t.url,_method:m.method,startTime:f.BeginTime,endTime:f.EndTime,status:t.status,readyState:4,response:s},h(u,p),b.beforeUploadCb&&"Function"==k.paramType(b.beforeUploadCb)?b.beforeUploadCb(u):ae(u,"",!0)),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),console.warn("见微：fetch",e.t1);case 37:return e.abrupt("return",t);case 38:case"end":return e.stop()}},e,null,[[0,34],[12,24]])}),function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){v(n,t,r,a,i,"next",e)}function i(e){v(n,t,r,a,i,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}())}}var qe,Xe;function Ge(e){var t=[],r=[];if(e)for(r.push(e);r.length;){var n=r.pop(),a=n.children&&n.children.length;t.push(n);for(var i=a-1;0<=i;i--)r.push(n.children[i])}return t}function Ve(r){var o=[],n=0,a=0;clearInterval(b.IntervalTimer),clearTimeout(b.timoutTimer),b.bodyObserver&&b.bodyObserver.disconnect();var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;e?(b.bodyObserver=new e(function(e){e.forEach(function(e){var t;"childList"===e.type&&(500<++a&&b.bodyObserver.disconnect(),t=Ge(e.addedNodes[0]),n+=t.length,o.push({domNum:n,time:new Date-r.startTimeStamp}))})}),b.bodyObserver.observe(document.getElementsByTagName("body")[0],{childList:!0,subtree:!0})):b.IntervalTimer=setInterval(function(){var e=Ge(document.getElementsByTagName("body")[0]);n+=e.length,o.push({domNum:n,time:(new Date-r.startTimeStamp).toFixed(0)})},500),b.timoutTimer=setTimeout(function(){clearInterval(b.IntervalTimer);var r,e,t,n=(r=o.map(function(e){return e.domNum}),e=r.map(function(e,t){return e-r[0<t-1?t-1:0]}),t=Math.max.apply(Math,S(e)),e.indexOf(t)),a=o[n]||{},i=A(a.time||0,b.isUploadPerResource);ye("PagePerformance",{Behavior:{ElapsedTime:a.time||0,Resource:i},DomRender:a.time||0}),b.bodyObserver&&b.bodyObserver.disconnect()},5e3)}var Ke=!1,Je={startTimeStamp:0,endTimeStamp:0};function We(){var e;qe=qe||window.history.pushState,Xe=Xe||window.history.replaceState,window.history.pushState=function(){b.referrerUrl=window.location.href,qe.apply(window.history,arguments),Ye()},window.history.replaceState=function(){b.referrerUrl=window.location.href,Xe.apply(window.history,arguments),Ye()},"onpageshow"in window?window.addEventListener("pageshow",$e):window.addEventListener("load",$e),"on"+(e=window.ActiveXObject||"ActiveXObject"in window?"hashchange":"popstate")in window&&window.addEventListener(e,ze)}function $e(){Ye()}function ze(){Ye()}function Ye(){Je.startTimeStamp=+new Date;var e,t,r,n=window.sessionStorage;Ke&&b.referrerUrl==window.location.href||(function(){{var e,t,r,n;Ke&&(e=b.prePageParams,t=e.url,r=e.loadTime,n=ee(t),t=t&&-1<t.indexOf("?")?t.split("?")[0]:t,ye("PageExit",{Behavior:{PageNo:t,Url:t,UrlParams:n,PageStayTime:(new Date).getTime()-r}}))}b.prePageParams={url:window.location.href,loadTime:(new Date).getTime()}}(),n.getItem("CMB_SESSION")?ye("PageLoad"):(n.setItem("CMB_SESSION",d.setSessionId()),b.ingoreClientStart?ye("PageLoad"):ye("ClientStart")),b.performance&&(b.singlePage&&Ke?Ve(Je):(r=A(t=(e=window.performance&&window.performance.timing||{}).loadEventEnd-e.fetchStart||0,b.isUploadPerResource),ye("PagePerformance",{Behavior:{ElapsedTime:t,Resource:r}}))),Ke=!0)}function Ze(){if(b.batchSend)try{b.indexedDBInstance=X.createDB(b.storageID?"CMB_STORAGE".concat(b.storageID):"CMB_STORAGE",["CMB_UPLOAD_DATA_NORMAL","CMB_UPLOAD_DATA_TRACK"]),X.removeCookie()}catch(e){b.indexedDBInstance=null,b.batchSend=!1,console.warn("见微：当前浏览器不支持indexDB数据缓存")}console.warn("见微：SDK已启动"),b.autoClick&&Se({autoTrack:!0}),b.apiInvoke&&He(),b.logTrack&&Ee(),b.pageLoadTrack&&We(),b.pageExitTrack&&(d.remove_event(document,"visibilitychange",Be),d.register_event(document,"visibilitychange",Be,!1,!1),d.remove_event(window,"beforeunload",ke),d.register_event(window,"beforeunload",ke,!1,!1)),b.webStay&&(new Qe).initEvent()}var Qe=function(){function e(){f(this,e),this.timeOut=null,this.timeOutDelay=1e3,this.current_time=+new Date}return g(e,[{key:"initEvent",value:function(){var t=this;k.addEvent(window,"scroll",function(e){clearTimeout(t.timeOut),t.uploadData()})}},{key:"uploadData",value:function(){var e=this,t=+new Date,r=Math.min(18e6,t-this.current_time),n={ViewDuration:r<0?0:r};this.timeOut=setTimeout(function(){ye("WebStay",{Behavior:n}),e.current_time=+new Date},this.timeOutDelay)}}]),e}();var et={trackSelf:function(e,t){ye("Self",e,t)},trackAllSelf:function(e,t,r){var n=e.Time;e.LibVersion=b.libVersion,e.Time=n||$(),ae(e,t,r)},NgNotify_Error:Ne,aliasID:function(e,t){var r;H.setLocal("ARK_LOGINID",e),t&&"String"==k.paramType(t)&&(r=t.toUpperCase(),-1==["D","A","C","S","G","N","E","B","P"].indexOf(r)&&(r="")),H.setLocal("ARK_LOGINTYPE",r||"")},removeAliasID:function(){H.removeLocal("ARK_LOGINID"),H.removeLocal("ARK_LOGINTYPE")},track:ye,registerProperty:function(e,t){var r=k.toObj(e,t),n=H.getLocal("CMB_SUPER")||{},a=k.objMerge(n,r);H.setLocal("CMB_SUPER",a)},clearProperty:function(){H.setLocal("CMB_SUPER",{})},destroy:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"cmbTrackLib";try{for(var r={eventListeners:[{element:document,eventName:"mousedown",funcName:Te},{element:document,eventName:"touchstart",funcName:Te},{element:document,eventName:"visibilitychange",funcName:Be},{element:window,eventName:"beforeunload",funcName:ke},{element:window,eventName:"pageshow",funcName:$e},{element:window,eventName:"load",funcName:$e},{element:window,eventName:"popstate",funcName:ze},{element:window,eventName:"hashchange",funcName:ze},{element:window,eventName:"CMBTrackXMLEnd",funcName:Ue},{element:document,eventName:"error",funcName:Ae,useCapture:!0},{element:window,eventName:"unhandledrejection",funcName:Ie}],logoutObject:[De,qe,Xe,Pe,Me,je,Re,Fe]},n=r.eventListeners,a=T(r.logoutObject,8),i=a[0],o=a[1],s=a[2],c=a[3],l=a[4],u=a[5],p=a[6],d=a[7],m=0;m<n.length;m++){var f=n[m],h=f.element,v=f.eventName,g=f.funcName,w=f.useCapture,y=void 0!==w&&w;k.removeEvent(h,v,g,y)}for(var b in window.onerror=i,window.history&&(window.history.pushState=o,window.history.replaceState=s),c&&(window.XMLHttpRequest=c,window.XMLHttpRequest.prototype.send=u,window.XMLHttpRequest.prototype.setRequestHeader=p,window.XMLHttpRequest.prototype.open=d),l&&(window.fetch=l),et)window.cmbTrackLib[b]&&delete window.cmbTrackLib[b];e&&(e[t]=null),console.warn("见微：SDK已销毁")}catch(e){console.warn("见微：SDK销毁失败，错误信息为：".concat(e))}}};function tt(e,t){var r=1<arguments.length&&void 0!==t?t:"String";return(0<arguments.length&&void 0!==e?e:[]).filter(function(e){return k.paramType(e)!==r}).length}window.cmbTrackLib=window.cmbTrackLib||{};var rt=window.cmbTrackLib;return rt.init=function(e){d.extend(b,e);try{b.secretKey||b.uploadID||console.warn("见微：请配置秘钥"),new Promise(function(n,e){var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t=b.getConfig("checkServerTimeHost"),r=b.getConfig("apiHost").split("/front-rest-log")[0];ne(r)?(a.open("get",r+t,!0),a.timeout=5e3,a.withCredentials=!0,a.onreadystatechange=function(){var e,t,r;4===a.readyState&&(200===a.status?(e=a.response)&&(t=(new Date).getTime(),b.timeStamp=e-t,n("success"),console.warn("见微：时间校准完成！")):(r="Bad HTTP status: "+a.status+" "+a.statusText,n("fail"),console.warn("见微：".concat(r))))},a.ontimeout=function(){a.abort()},a.send()):n("fail")}),function(){var e=console.warn,t=b.apiHost,r=b.urlParamsIgnore,n=b.apiRequestTimeOut,a=b.apiNameIgnore,i=b.clickUploadCustomData,o=b.errorIgnore,s=b.serviceUnitId,c=b.isUploadPerResource,l=b.isUseClickReplaceTouchStart,u=b.errorCodeKey,p=b.defaultErrorCode,d=b.isRewriteFetch,m=b.ingoreClientStart,f=b.storageID,h=b.deployUnitId;if(t)if("Array"===k.paramType(r))if("Number"!==k.paramType(n)||1e4<n)e("见微：请检查接口请求耗时类型，或检查请求耗时是否超出最大限制10000ms");else if("Array"!==k.paramType(a)||tt(a))e("见微：请检查API过滤名单数据格式");else if("Array"!==k.paramType(i)||tt(i))e("见微：请检查点击事件自定义数据格式");else if("Array"!==k.paramType(o)||tt(o))e("见微：请检查报错过滤名单数据格式");else if("String"===k.paramType(s)){if(c){var v="Boolean"!==k.paramType(c),g="Object"!==k.paramType(c),w=c.perElapsedTimeThreshold,y=c.samplingPercentage;if(v&&g||w&&(w<3e3||1e4<w)||y&&(30<y||y<5))return void e("见微：请检查资源采样数据格式")}if("Boolean"===k.paramType(l))if("String"===k.paramType(u))if(p||e("见微：由于你开启了错误码配置，所以defaultErrorCode（当错误码获取不到时，使用默认错误码填充）为必填，请检查"),"String"===k.paramType(p))if("Boolean"===k.paramType(d))if("Boolean"===k.paramType(m))if("String"===k.paramType(f)||"Number"===k.paramType(f)){if("String"===k.paramType(h))return 1;e("见微：请检查配置的服务单元数据格式")}else e("见微：请检查配置项storageID格式是否正确");else e("见微：请检查过滤系统启动事件配置项数据格式");else e("见微：请检查是否重写Fetch配置项数据格式");else e("见微：请检查默认错误码的数据格式");else e("见微：请检查错误码key值的数据格式");else e("见微：请检查是否使用click替换touchStart事件的数据格式")}else e("见微：请检查配置的服务单元数据格式");else e("见微：url过滤黑名单格式应为数组");else e("见微：请配置上报地址")}()&&Ze()}catch(e){console.warn(e)}for(var t in et){(this||rt)[t]=et[t]}},rt}();
